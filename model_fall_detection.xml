<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="model_fall_detection" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="11.0.1">
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={499, 535, 939, 656}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.9966984364293285">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{337.35970052083337, 218.96093749999991}">
    </property>
    <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
        <property name="stopTime" class="ptolemy.data.expr.Parameter" value="">
        </property>
        <property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{35.0, 20.0}">
        </property>
    </property>
    <property name="Annotation3" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="14">
        </property>
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="https://www.cs.virginia.edu/~stankovic/psfiles/bsn09-1.pdf">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{100.0, -15.0}">
        </property>
    </property>
    <property name="enableBackwardTypeInference" class="ptolemy.data.expr.Parameter" value="true">
    </property>
    <entity name="DisplayStatus" class="ptolemy.actor.lib.gui.Display">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1224, 710, 374, 273}, maximized=false}">
        </property>
        <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[352, 186]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{545.0, 155.0}">
        </property>
    </entity>
    <entity name="DiscreteClock" class="ptolemy.actor.lib.DiscreteClock">
        <doc>Create periodic timed events.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{45.0, 85.0}">
        </property>
    </entity>
    <entity name="ModalModel" class="ptolemy.domains.modal.modal.ModalModel">
        <property name="_tableauFactory" class="ptolemy.vergil.modal.modal.ModalTableauFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{435.0, 95.0}">
        </property>
        <port name="accX_A" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="input"/>
        </port>
        <port name="accY_A" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="input"/>
        </port>
        <port name="accZ_A" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="input"/>
        </port>
        <port name="accInterval_A" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
        </port>
        <port name="angle_A" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
        </port>
        <port name="state" class="ptolemy.domains.modal.modal.ModalPort">
            <property name="output"/>
        </port>
        <entity name="_Controller" class="ptolemy.domains.modal.modal.ModalController">
            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                <configure>
      <entity name="state library" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="state" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property><property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory"></property></entity></entity>
    </configure>
            </property>
            <property name="toDynamicThreshold" class="ptolemy.data.expr.Parameter" value="0.11">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{310.0, 20.0}">
                </property>
            </property>
            <property name="toStaticDegrees" class="ptolemy.data.expr.Parameter" value="35">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{180.0, 20.0}">
                </property>
            </property>
            <property name="TaccA" class="ptolemy.data.expr.Parameter" value="3.0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{105.0, 20.0}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={435, 250, 1289, 940}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1050, 794]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.945409429280397">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{279.2959183673469, 215.5}">
            </property>
            <port name="accX_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 160.0}">
                </property>
            </port>
            <port name="accY_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 230.0}">
                </property>
            </port>
            <port name="accZ_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 295.0}">
                </property>
            </port>
            <port name="accInterval_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{380.0, 420.0}">
                </property>
            </port>
            <port name="angle_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{315.0, 420.0}">
                </property>
            </port>
            <port name="state" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{475.0, 420.0}">
                </property>
            </port>
            <entity name="Moving" class="ptolemy.domains.modal.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="DynamicTransition">
                </property>
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="false">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{215.0, 205.0}">
                </property>
            </entity>
            <entity name="Fall" class="ptolemy.domains.modal.kernel.State">
                <property name="isFinalState" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{215.0, 335.0}">
                </property>
            </entity>
            <entity name="Lying" class="ptolemy.domains.modal.kernel.State">
                <property name="refinementName" class="ptolemy.kernel.util.StringAttribute" value="Lying">
                </property>
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_controllerFactory" class="ptolemy.vergil.modal.modal.HierarchicalStateControllerFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{215.0, 75.0}">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="accInterval_A &gt; toDynamicThreshold">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="state = &quot;Moving&quot;">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.5194045552112574">
                </property>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Moving._location&quot;,x=215.0,y=205.0}, tail={id=&quot;Lying._location&quot;,x=215.0,y=75.0}, points={205.3359375,186.3020782470703,205.3359375,186.3020782470703,205.3359375,183.3854217529297,205.3359375,180.46875,205.3359375,174.6354217529297,187.54296875,171.71875,169.75,168.8020782470703,134.1640625,168.8020782470703,116.37109375,165.8854217529297,98.578125,162.96875,98.578125,157.1354217529297,98.578125,152.3880157470703,98.578125,147.640625,98.578125,143.9791717529297,98.578125,140.3177032470703,98.578125,136.65625,98.578125,132.9947967529297,98.578125,128.2473907470703,98.578125,123.5,98.578125,117.66666412353516,116.59331512451172,114.75,134.60850524902344,111.83333587646484,170.63888549804688,111.83333587646484,188.65408325195312,108.91666412353516,206.66927337646484,106.0,206.66927337646484,100.16666412353516,206.66927337646484,97.25,206.66927337646484,94.33333587646484,206.66927337646484,94.33333587646484}, labelLocation={x=102.578125,y=129.3958282470703} } }">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="angle_A &lt; toStaticDegrees &amp;&amp; accInterval_A &lt; toDynamicThreshold">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="state = &quot;Lying&quot;">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.622188098378536">
                </property>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Lying._location&quot;,x=215.0,y=75.0}, tail={id=&quot;Moving._location&quot;,x=215.0,y=205.0}, points={226.0026092529297,94.33333587646484,226.0026092529297,94.33333587646484,226.0026092529297,97.25,226.0026092529297,100.16666412353516,226.0026092529297,106.0,244.01779174804688,108.91666412353516,262.0329895019531,111.83333587646484,298.06336975097656,111.83333587646484,316.07855224609375,114.75,334.09375,117.66666412353516,334.09375,123.5,334.09375,128.2473907470703,334.09375,132.9947967529297,334.09375,136.65625,334.09375,140.3177032470703,334.09375,143.9791717529297,334.09375,147.640625,334.09375,152.3880157470703,334.09375,157.1354217529297,334.09375,162.96875,316.30078125,165.8854217529297,298.5078125,168.8020782470703,262.921875,168.8020782470703,245.12890625,171.71875,227.3359375,174.6354217529297,227.3359375,180.46875,227.3359375,183.3854217529297,227.3359375,186.3020782470703,227.3359375,186.3020782470703}, labelLocation={x=338.09375,y=129.3333282470703} } }">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="angle_A &gt; toStaticDegrees">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="state = &quot;Fall&quot;">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6896899844473559">
                </property>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Fall._location&quot;,x=215.0,y=335.0}, tail={id=&quot;Moving._location&quot;,x=215.0,y=205.0}, points={216.3359375,311.8125,216.3359375,301.8125,216.3359375,292.0755310058594,216.3359375,282.3385314941406,216.3359375,272.8645935058594,216.3359375,263.390625,216.3359375,253.9166717529297,216.3359375,244.4427032470703,216.3359375,237.2057342529297,216.3359375,229.96875,216.3359375,224.96875}, labelLocation={x=220.3359375,y=259.96875} } }">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.3779801525034481">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                    <display name="default"/>
                </property>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Lying._location&quot;,x=215.0,y=75.0}, tail={id=&quot;Lying._location&quot;,x=215.0,y=75.0}, points={172.3359375,79.33333587646484,170.00260162353516,77.0,170.00260162353516,74.66666412353516,170.00260162353516,72.33333587646484,172.3359375,70.0} } }">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.356194490192345">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="2.1943490042412055">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                    <display name="default"/>
                </property>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Moving._location&quot;,x=215.0,y=205.0}, tail={id=&quot;Moving._location&quot;,x=215.0,y=205.0}, points={168.3359375,201.3020782470703,166.16927337646484,203.46875,166.16927337646484,205.6354217529297,166.16927337646484,207.8020782470703,168.3359375,209.96875} } }">
                </property>
            </relation>
            <link port="Moving.incomingPort" relation="relation"/>
            <link port="Moving.incomingPort" relation="relation5"/>
            <link port="Moving.outgoingPort" relation="relation2"/>
            <link port="Moving.outgoingPort" relation="relation3"/>
            <link port="Moving.outgoingPort" relation="relation5"/>
            <link port="Fall.incomingPort" relation="relation3"/>
            <link port="Lying.incomingPort" relation="relation2"/>
            <link port="Lying.incomingPort" relation="relation4"/>
            <link port="Lying.outgoingPort" relation="relation"/>
            <link port="Lying.outgoingPort" relation="relation4"/>
        </entity>
        <entity name="Lying" class="ptolemy.domains.modal.modal.Refinement">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={0, 388, 1166, 843}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[927, 697]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0000000000000016">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{-111.53745404411762, 107.61703431372541}">
            </property>
            <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                <property name="iterations" class="ptolemy.data.expr.Parameter" value="AUTO">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-405.0, -60.0}">
                </property>
            </property>
            <port name="accX_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-445.0, 10.0}">
                </property>
            </port>
            <port name="accY_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-445.0, 125.0}">
                </property>
            </port>
            <port name="accZ_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-445.0, 65.0}">
                </property>
            </port>
            <port name="accInterval_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{160.0, 50.0}">
                </property>
            </port>
            <port name="angle_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[170.0, 135.0]">
                </property>
            </port>
            <port name="state" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, 200.0}">
                </property>
            </port>
            <entity name="Maximum" class="ptolemy.actor.lib.Maximum">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-295.0, 5.0}">
                </property>
            </entity>
            <entity name="Minimum" class="ptolemy.actor.lib.Minimum">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-295.0, 70.0}">
                </property>
            </entity>
            <entity name="AbsoluteValue" class="ptolemy.actor.lib.AbsoluteValue">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-55.0, 50.0}">
                </property>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-180.0, 50.0}">
                </property>
            </entity>
            <entity name="SampleDelay" class="ptolemy.domains.sdf.lib.SampleDelay">
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="initialOutputs">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{60.0, 50.0}">
                </property>
            </entity>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AddSubtract.minus&quot;,x=-180.0,y=50.0,index=2}, tail={id=&quot;Maximum.maximumValue&quot;,x=-295.0,y=5.0}, points={-240.0,55.0,-240.0,-5.0} } }">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AddSubtract.minus&quot;,x=-180.0,y=50.0,index=2}, tail={id=&quot;Minimum.minimumValue&quot;,x=-295.0,y=70.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AbsoluteValue.input&quot;,x=-55.0,y=50.0}, tail={id=&quot;AddSubtract.output&quot;,x=-180.0,y=50.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="{-375.0, 10.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;accX_A._location&quot;,x=-445.0,y=10.0}, tail={id=&quot;relation.vertex1&quot;,x=-375.0,y=10.0}, points={} },{ head={id=&quot;Minimum.input&quot;,x=-295.0,y=70.0,index=3}, tail={id=&quot;relation.vertex1&quot;,x=-375.0,y=10.0}, points={-375.0,60.0} },{ head={id=&quot;Maximum.input&quot;,x=-295.0,y=5.0,index=3}, tail={id=&quot;relation.vertex1&quot;,x=-375.0,y=10.0}, points={-375.0,-5.0} } }">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="{-360.0, 65.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;accZ_A._location&quot;,x=-445.0,y=65.0}, tail={id=&quot;relation2.vertex1&quot;,x=-360.0,y=65.0}, points={} },{ head={id=&quot;Maximum.input&quot;,x=-295.0,y=5.0,index=3}, tail={id=&quot;relation2.vertex1&quot;,x=-360.0,y=65.0}, points={-360.0,0.0} },{ head={id=&quot;Minimum.input&quot;,x=-295.0,y=70.0,index=3}, tail={id=&quot;relation2.vertex1&quot;,x=-360.0,y=65.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="{-345.0, 125.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;accY_A._location&quot;,x=-445.0,y=125.0}, tail={id=&quot;relation7.vertex1&quot;,x=-345.0,y=125.0}, points={} },{ head={id=&quot;Maximum.input&quot;,x=-295.0,y=5.0,index=3}, tail={id=&quot;relation7.vertex1&quot;,x=-345.0,y=125.0}, points={-345.0,5.0} },{ head={id=&quot;Minimum.input&quot;,x=-295.0,y=70.0,index=3}, tail={id=&quot;relation7.vertex1&quot;,x=-345.0,y=125.0}, points={-345.0,70.0} } }">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;SampleDelay.input&quot;,x=60.0,y=50.0}, tail={id=&quot;AbsoluteValue.output&quot;,x=-55.0,y=50.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;accInterval_A._location&quot;,x=160.0,y=50.0}, tail={id=&quot;SampleDelay.output&quot;,x=60.0,y=50.0}, points={} } }">
                </property>
            </relation>
            <link port="accX_A" relation="relation"/>
            <link port="accY_A" relation="relation7"/>
            <link port="accZ_A" relation="relation2"/>
            <link port="accInterval_A" relation="relation8"/>
            <link port="Maximum.input" relation="relation"/>
            <link port="Maximum.input" relation="relation2"/>
            <link port="Maximum.input" relation="relation7"/>
            <link port="Maximum.maximumValue" relation="relation3"/>
            <link port="Minimum.input" relation="relation"/>
            <link port="Minimum.input" relation="relation2"/>
            <link port="Minimum.input" relation="relation7"/>
            <link port="Minimum.minimumValue" relation="relation4"/>
            <link port="AbsoluteValue.input" relation="relation5"/>
            <link port="AbsoluteValue.output" relation="relation6"/>
            <link port="AddSubtract.minus" relation="relation3"/>
            <link port="AddSubtract.minus" relation="relation4"/>
            <link port="AddSubtract.output" relation="relation5"/>
            <link port="SampleDelay.input" relation="relation6"/>
            <link port="SampleDelay.output" relation="relation8"/>
        </entity>
        <entity name="DynamicTransition" class="ptolemy.domains.modal.modal.Refinement">
            <property name="gravitationalConstant" class="ptolemy.data.expr.Parameter" value="1.0">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-30.0, -5.0}">
                </property>
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={696, 482, 939, 656}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{192.0, 336.015625}">
            </property>
            <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
                <property name="iterations" class="ptolemy.data.expr.Parameter" value="AUTO">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-105.0, 15.0}">
                </property>
            </property>
            <port name="accX_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-145.0, 145.0}">
                </property>
            </port>
            <port name="accY_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 15.0}">
                </property>
            </port>
            <port name="accZ_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{200.0, 15.0}">
                </property>
            </port>
            <port name="accInterval_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-145.0, 75.0}">
                </property>
            </port>
            <port name="angle_A" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{220.0, 190.0}">
                </property>
            </port>
            <port name="state" class="ptolemy.domains.modal.modal.RefinementPort">
                <property name="output"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
                </property>
            </port>
            <entity name="TrigFunction" class="ptolemy.actor.lib.TrigFunction">
                <property name="function" class="ptolemy.data.expr.StringParameter" value="acos">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.AttributeValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="function">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-20.0, 145.0}">
                </property>
            </entity>
            <entity name="Expression" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="gravitationalConstant">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{-30.0, 200.0}">
                </property>
            </entity>
            <entity name="MultiplyDivide" class="ptolemy.actor.lib.MultiplyDivide">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{120.0, 190.0}">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;TrigFunction.input&quot;,x=-20.0,y=145.0}, tail={id=&quot;accX_A._location&quot;,x=-145.0,y=145.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;MultiplyDivide.divide&quot;,x=120.0,y=190.0,index=2}, tail={id=&quot;TrigFunction.output&quot;,x=-20.0,y=145.0}, points={65.0,195.0,65.0,145.0} } }">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;MultiplyDivide.divide&quot;,x=120.0,y=190.0,index=2}, tail={id=&quot;Expression.output&quot;,x=-30.0,y=200.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;angle_A._location&quot;,x=220.0,y=190.0}, tail={id=&quot;MultiplyDivide.output&quot;,x=120.0,y=190.0}, points={} } }">
                </property>
            </relation>
            <link port="accX_A" relation="relation"/>
            <link port="angle_A" relation="relation5"/>
            <link port="TrigFunction.input" relation="relation"/>
            <link port="TrigFunction.output" relation="relation2"/>
            <link port="Expression.output" relation="relation3"/>
            <link port="MultiplyDivide.divide" relation="relation2"/>
            <link port="MultiplyDivide.divide" relation="relation3"/>
            <link port="MultiplyDivide.output" relation="relation5"/>
        </entity>
        <relation name="accX_ARelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="accY_ARelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="accZ_ARelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="accInterval_ARelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="angle_ARelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <relation name="stateRelation" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="Auto">
            </property>
        </relation>
        <link port="accX_A" relation="accX_ARelation"/>
        <link port="accY_A" relation="accY_ARelation"/>
        <link port="accZ_A" relation="accZ_ARelation"/>
        <link port="accInterval_A" relation="accInterval_ARelation"/>
        <link port="angle_A" relation="angle_ARelation"/>
        <link port="state" relation="stateRelation"/>
        <link port="_Controller.accX_A" relation="accX_ARelation"/>
        <link port="_Controller.accY_A" relation="accY_ARelation"/>
        <link port="_Controller.accZ_A" relation="accZ_ARelation"/>
        <link port="_Controller.accInterval_A" relation="accInterval_ARelation"/>
        <link port="_Controller.angle_A" relation="angle_ARelation"/>
        <link port="_Controller.state" relation="stateRelation"/>
        <link port="Lying.accX_A" relation="accX_ARelation"/>
        <link port="Lying.accY_A" relation="accY_ARelation"/>
        <link port="Lying.accZ_A" relation="accZ_ARelation"/>
        <link port="Lying.accInterval_A" relation="accInterval_ARelation"/>
        <link port="Lying.angle_A" relation="angle_ARelation"/>
        <link port="Lying.state" relation="stateRelation"/>
        <link port="DynamicTransition.accX_A" relation="accX_ARelation"/>
        <link port="DynamicTransition.accY_A" relation="accY_ARelation"/>
        <link port="DynamicTransition.accZ_A" relation="accZ_ARelation"/>
        <link port="DynamicTransition.accInterval_A" relation="accInterval_ARelation"/>
        <link port="DynamicTransition.angle_A" relation="angle_ARelation"/>
        <link port="DynamicTransition.state" relation="stateRelation"/>
    </entity>
    <entity name="DisplayStatus2" class="ptolemy.actor.lib.gui.Display">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1308, 876, 374, 273}, maximized=false}">
        </property>
        <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[352, 186]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{545.0, 95.0}">
        </property>
    </entity>
    <entity name="CSVReader" class="ptolemy.actor.lib.io.CSVReader">
        <property name="fileOrURL" class="ptolemy.actor.parameters.FilePortParameter" value="merged.csv">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[180.0, 195.0]">
        </property>
    </entity>
    <entity name="Stop" class="ptolemy.actor.lib.Stop">
        <property name="_location" class="ptolemy.kernel.util.Location" value="[295.0, 305.0]">
        </property>
    </entity>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="[345.0, 65.0]">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;.relation2.vertex1&quot;,x=475.0,y=110.0}, tail={id=&quot;relation4.vertex1&quot;,x=520.0,y=110.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;DisplayStatus.input&quot;,x=545.0,y=155.0}, tail={id=&quot;ModalModel.state&quot;,x=435.0,y=95.0}, points={495.0,155.0,495.0,105.0} } }">
        </property>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;ModalModel.angle_A&quot;,x=435.0,y=95.0}, tail={id=&quot;DisplayStatus2.input&quot;,x=545.0,y=95.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="DisplayStatus.input" relation="relation5"/>
    <link port="DiscreteClock.output" relation="relation"/>
    <link port="ModalModel.accX_A" relation="relation4"/>
    <link port="ModalModel.accY_A" relation="relation4"/>
    <link port="ModalModel.accZ_A" relation="relation4"/>
    <link port="ModalModel.angle_A" relation="relation7"/>
    <link port="ModalModel.state" relation="relation5"/>
    <link port="DisplayStatus2.input" relation="relation7"/>
    <link port="CSVReader.output" relation="relation4"/>
    <link port="CSVReader.trigger" relation="relation"/>
    <link port="CSVReader.endOfFile" relation="relation2"/>
    <link port="Stop.input" relation="relation2"/>
</entity>
