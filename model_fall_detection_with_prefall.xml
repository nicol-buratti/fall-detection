<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="model_fall_detection_with_prefall" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="11.0.1">
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="14">
        </property>
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="https://www.cs.virginia.edu/~stankovic/psfiles/bsn09-1.pdf">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{400.0, -30.0}">
        </property>
    </property>
    <property name="signalFrequency" class="ptolemy.data.expr.Parameter" value="50">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{275.0, -20.0}">
        </property>
    </property>
    <property name="window_size" class="ptolemy.data.expr.Parameter" value="20">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{155.0, -20.0}">
        </property>
    </property>
    <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{45.0, 0.0}">
        </property>
    </property>
    <property name="enableBackwardTypeInference" class="ptolemy.data.expr.Parameter" value="true">
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 392, 939, 656}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{970.5178462009801, 221.08601409313718}">
    </property>
    <entity name="CSVReader" class="ptolemy.actor.lib.io.CSVReader">
        <property name="fileOrURL" class="ptolemy.actor.parameters.FilePortParameter" value="C:\Users\nicki\Desktop\fall-detection\raw_data2.csv">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{225.0, 215.0}">
        </property>
    </entity>
    <entity name="Stop" class="ptolemy.actor.lib.Stop">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{360.0, 245.0}">
        </property>
    </entity>
    <entity name="gyroscope" class="ptolemy.actor.lib.RecordDisassembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{440.0, 250.0}">
        </property>
        <port name="gyro_x_list" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="gyro_y_list" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="gyro_z_list" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
    </entity>
    <entity name="accelerometer" class="ptolemy.actor.lib.RecordDisassembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{420.0, 110.0}">
        </property>
        <port name="accel_x_list" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="accel_y_list" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="accel_z_list" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
    </entity>
    <entity name="RotationComputer" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{765.0, 255.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={532, 562, 939, 656}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 423.25}">
        </property>
        <port name="gyro_x" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 205.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="gyro_y" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 260.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="gyro_z" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 315.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="rotation_rate" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{330.0, 275.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 205.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 260.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Expression3" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 315.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{235.0, 275.0}">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression.in&quot;,x=110.0,y=205.0}, tail={id=&quot;acc_x._location&quot;,x=20.0,y=205.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression2.in&quot;,x=110.0,y=260.0}, tail={id=&quot;acc_y._location&quot;,x=20.0,y=260.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression3.in&quot;,x=110.0,y=315.0}, tail={id=&quot;acc_z._location&quot;,x=20.0,y=315.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AddSubtract.plus&quot;,x=235.0,y=275.0,index=3}, tail={id=&quot;Expression.output&quot;,x=110.0,y=205.0}, points={175.0,255.0,175.0,205.0} } }">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AddSubtract.plus&quot;,x=235.0,y=275.0,index=3}, tail={id=&quot;Expression2.output&quot;,x=110.0,y=260.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AddSubtract.plus&quot;,x=235.0,y=275.0,index=3}, tail={id=&quot;Expression3.output&quot;,x=110.0,y=315.0}, points={175.0,265.0,175.0,315.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;acceleration._location&quot;,x=330.0,y=275.0}, tail={id=&quot;AddSubtract.output&quot;,x=235.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <link port="gyro_x" relation="relation"/>
        <link port="gyro_y" relation="relation2"/>
        <link port="gyro_z" relation="relation3"/>
        <link port="rotation_rate" relation="relation7"/>
        <link port="Expression.output" relation="relation4"/>
        <link port="Expression.in" relation="relation"/>
        <link port="Expression2.output" relation="relation5"/>
        <link port="Expression2.in" relation="relation2"/>
        <link port="Expression3.output" relation="relation6"/>
        <link port="Expression3.in" relation="relation3"/>
        <link port="AddSubtract.plus" relation="relation4"/>
        <link port="AddSubtract.plus" relation="relation5"/>
        <link port="AddSubtract.plus" relation="relation6"/>
        <link port="AddSubtract.output" relation="relation7"/>
    </entity>
    <entity name="AccelerationComputer" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{760.0, 70.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={532, 562, 939, 656}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 423.25}">
        </property>
        <port name="acc_x" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 205.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="acc_y" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 260.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="acc_z" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 315.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="acceleration" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{460.0, 275.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 205.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 260.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Expression3" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 315.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{235.0, 275.0}">
            </property>
        </entity>
        <entity name="MovingAverage" class="ptolemy.actor.lib.MovingAverage">
            <property name="maxPastInputsToAverage" class="ptolemy.data.expr.Parameter" value="window_size">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{365.0, 275.0}">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;acc_x._location&quot;,x=20.0,y=205.0}, tail={id=&quot;Expression.in&quot;,x=110.0,y=205.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;acc_y._location&quot;,x=20.0,y=260.0}, tail={id=&quot;Expression2.in&quot;,x=110.0,y=260.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;acc_z._location&quot;,x=20.0,y=315.0}, tail={id=&quot;Expression3.in&quot;,x=110.0,y=315.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=110.0,y=205.0}, tail={id=&quot;AddSubtract.plus&quot;,x=235.0,y=275.0,index=3}, points={175.0,205.0,175.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression2.output&quot;,x=110.0,y=260.0}, tail={id=&quot;AddSubtract.plus&quot;,x=235.0,y=275.0,index=3}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression3.output&quot;,x=110.0,y=315.0}, tail={id=&quot;AddSubtract.plus&quot;,x=235.0,y=275.0,index=3}, points={175.0,315.0,175.0,265.0} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;MovingAverage.input&quot;,x=365.0,y=275.0}, tail={id=&quot;AddSubtract.output&quot;,x=235.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;acceleration._location&quot;,x=460.0,y=275.0}, tail={id=&quot;MovingAverage.output&quot;,x=365.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <link port="acc_x" relation="relation"/>
        <link port="acc_y" relation="relation2"/>
        <link port="acc_z" relation="relation3"/>
        <link port="acceleration" relation="relation7"/>
        <link port="Expression.output" relation="relation4"/>
        <link port="Expression.in" relation="relation"/>
        <link port="Expression2.output" relation="relation5"/>
        <link port="Expression2.in" relation="relation2"/>
        <link port="Expression3.output" relation="relation6"/>
        <link port="Expression3.in" relation="relation3"/>
        <link port="AddSubtract.plus" relation="relation4"/>
        <link port="AddSubtract.plus" relation="relation5"/>
        <link port="AddSubtract.plus" relation="relation6"/>
        <link port="AddSubtract.output" relation="relation8"/>
        <link port="MovingAverage.input" relation="relation8"/>
        <link port="MovingAverage.output" relation="relation7"/>
    </entity>
    <entity name="AccelerationPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={539, 48, 522, 387}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[500, 300]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{970.0, 70.0}">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xRange min="0.0" max="114.0"/>
<yRange min="62.37049999999999" max="370.55600000000004"/>
</plot>?>
        </configure>
    </entity>
    <entity name="RotationPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1084, 55, 522, 387}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[500, 300]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{970.0, 310.0}">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xRange min="0.0" max="114.0"/>
<yRange min="0.010000000000000002" max="35.330000000000005"/>
</plot>?>
        </configure>
    </entity>
    <entity name="AnglePitchComputer" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{765.0, 140.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={527, 221, 939, 656}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.250000000000001">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{340.35294117647044, 147.69117647058815}">
        </property>
        <property name="alpha" class="ptolemy.data.expr.Parameter" value="0.98">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{120.0, -35.0}">
            </property>
        </property>
        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
            <property name="iterations" class="ptolemy.data.expr.Parameter" value="AUTO">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{45.0, -15.0}">
            </property>
        </property>
        <port name="acc_x" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, 40.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="acc_y" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, 95.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="acc_z" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, 150.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="gyro_y" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 150.0}">
            </property>
        </port>
        <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{395.0, 105.0}">
            </property>
        </port>
        <entity name="PitchComputer" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{115.0, 95.0}">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={749, 540, 939, 656}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 421.015625}">
            </property>
            <port name="acc_x" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{260.0, 200.0}">
                </property>
            </port>
            <port name="acc_y" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                </property>
            </port>
            <port name="acc_z" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 255.0}">
                </property>
            </port>
            <port name="pitch" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{725.0, 255.0}">
                </property>
            </port>
            <entity name="Expression" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 200.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 255.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{230.0, 265.0}">
                </property>
            </entity>
            <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="-in">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{345.0, 200.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="atan2(in, in2)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{500.0, 255.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="in2" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="Expression5" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="sqrt(in)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 265.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Expression6" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="in * 180 / pi">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{635.0, 255.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=110.0,y=200.0}, tail={id=&quot;AddSubtract.plus&quot;,x=230.0,y=265.0,index=2}, points={175.0,200.0,175.0,250.0} } }">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression2.output&quot;,x=110.0,y=255.0}, tail={id=&quot;AddSubtract.plus&quot;,x=230.0,y=265.0,index=2}, points={} } }">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression3.output&quot;,x=345.0,y=200.0}, tail={id=&quot;Expression4.in&quot;,x=500.0,y=255.0}, points={420.0,200.0,420.0,245.0} } }">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression3.in&quot;,x=345.0,y=200.0}, tail={id=&quot;acc_x._location&quot;,x=260.0,y=200.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression.in&quot;,x=110.0,y=200.0}, tail={id=&quot;acc_y._location&quot;,x=20.0,y=200.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression2.in&quot;,x=110.0,y=255.0}, tail={id=&quot;acc_z._location&quot;,x=20.0,y=255.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression5.in&quot;,x=355.0,y=265.0}, tail={id=&quot;AddSubtract.output&quot;,x=230.0,y=265.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression4.in2&quot;,x=500.0,y=255.0}, tail={id=&quot;Expression5.output&quot;,x=355.0,y=265.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression6.in&quot;,x=635.0,y=255.0}, tail={id=&quot;Expression4.output&quot;,x=500.0,y=255.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;pitch._location&quot;,x=725.0,y=255.0}, tail={id=&quot;Expression6.output&quot;,x=635.0,y=255.0}, points={} } }">
                </property>
            </relation>
            <link port="acc_x" relation="relation5"/>
            <link port="acc_y" relation="relation6"/>
            <link port="acc_z" relation="relation7"/>
            <link port="pitch" relation="relation10"/>
            <link port="Expression.output" relation="relation"/>
            <link port="Expression.in" relation="relation6"/>
            <link port="Expression2.output" relation="relation2"/>
            <link port="Expression2.in" relation="relation7"/>
            <link port="AddSubtract.plus" relation="relation"/>
            <link port="AddSubtract.plus" relation="relation2"/>
            <link port="AddSubtract.output" relation="relation4"/>
            <link port="Expression3.output" relation="relation3"/>
            <link port="Expression3.in" relation="relation5"/>
            <link port="Expression4.output" relation="relation8"/>
            <link port="Expression4.in" relation="relation3"/>
            <link port="Expression4.in2" relation="relation9"/>
            <link port="Expression5.output" relation="relation9"/>
            <link port="Expression5.in" relation="relation4"/>
            <link port="Expression6.output" relation="relation10"/>
            <link port="Expression6.in" relation="relation8"/>
        </entity>
        <entity name="CompositeActor" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 105.0]">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={511, 784, 939, 656}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6400000000000001">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{588.1305147058823, 193.58049938725495}">
            </property>
            <port name="pitch" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, -10.0}">
                </property>
            </port>
            <port name="gyro_y" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, 50.0}">
                </property>
            </port>
            <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{1085.0, 5.0}">
                </property>
            </port>
            <entity name="gyro_angle_change" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="in * (1/signalFrequency)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{140.0, 50.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="angle_pitch2" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="alpha * (angle_pitch + gyro_angle_change)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{460.0, 60.0}">
                </property>
                <port name="gyro_angle_change" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="Expression" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(1.0 - alpha) * pitch">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{715.0, -10.0}">
                </property>
                <port name="pitch" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{860.0, 5.0}">
                </property>
            </entity>
            <entity name="SampleDelay" class="ptolemy.domains.sdf.lib.SampleDelay">
                <property name="initialOutputs" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="initialOutputs">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{855.0, 60.0}">
                </property>
            </entity>
            <entity name="MovingAverage" class="ptolemy.actor.lib.MovingAverage">
                <property name="maxPastInputsToAverage" class="ptolemy.data.expr.Parameter" value="window_size">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{990.0, 5.0}">
                </property>
            </entity>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;gyro_angle_change.output&quot;,x=140.0,y=50.0}, tail={id=&quot;angle_pitch2.gyro_angle_change&quot;,x=460.0,y=60.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=715.0,y=-10.0}, tail={id=&quot;AddSubtract.plus&quot;,x=860.0,y=5.0,index=2}, points={} } }">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="{805.0, 60.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;SampleDelay.input&quot;,x=855.0,y=60.0}, tail={id=&quot;relation6.vertex1&quot;,x=805.0,y=60.0}, points={} },{ head={id=&quot;AddSubtract.plus&quot;,x=860.0,y=5.0,index=2}, tail={id=&quot;relation6.vertex1&quot;,x=805.0,y=60.0}, points={805.0,-5.0} },{ head={id=&quot;angle_pitch2.output&quot;,x=460.0,y=60.0}, tail={id=&quot;relation6.vertex1&quot;,x=805.0,y=60.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;angle_pitch2.angle_pitch&quot;,x=460.0,y=60.0}, tail={id=&quot;SampleDelay.output&quot;,x=855.0,y=60.0}, points={240.0,70.0,240.0,85.0,930.0,85.0,930.0,60.0} } }">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;gyro_y._location&quot;,x=5.0,y=50.0}, tail={id=&quot;gyro_angle_change.in&quot;,x=140.0,y=50.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;pitch._location&quot;,x=580.0,y=-10.0}, tail={id=&quot;Expression.pitch&quot;,x=715.0,y=-10.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;MovingAverage.input&quot;,x=990.0,y=5.0}, tail={id=&quot;AddSubtract.output&quot;,x=860.0,y=5.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;angle_pitch._location&quot;,x=1085.0,y=5.0}, tail={id=&quot;MovingAverage.output&quot;,x=990.0,y=5.0}, points={} } }">
                </property>
            </relation>
            <link port="pitch" relation="relation"/>
            <link port="gyro_y" relation="relation2"/>
            <link port="angle_pitch" relation="relation8"/>
            <link port="gyro_angle_change.output" relation="relation3"/>
            <link port="gyro_angle_change.in" relation="relation2"/>
            <link port="angle_pitch2.output" relation="relation6"/>
            <link port="angle_pitch2.gyro_angle_change" relation="relation3"/>
            <link port="angle_pitch2.angle_pitch" relation="relation7"/>
            <link port="Expression.output" relation="relation4"/>
            <link port="Expression.pitch" relation="relation"/>
            <link port="AddSubtract.plus" relation="relation4"/>
            <link port="AddSubtract.plus" relation="relation6"/>
            <link port="AddSubtract.output" relation="relation5"/>
            <link port="SampleDelay.input" relation="relation6"/>
            <link port="SampleDelay.output" relation="relation7"/>
            <link port="MovingAverage.input" relation="relation5"/>
            <link port="MovingAverage.output" relation="relation8"/>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;PitchComputer.acc_x&quot;,x=115.0,y=95.0}, tail={id=&quot;acc_x._location&quot;,x=5.0,y=40.0}, points={35.0,85.0,35.0,40.0} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;PitchComputer.acc_y&quot;,x=115.0,y=95.0}, tail={id=&quot;acc_y._location&quot;,x=5.0,y=95.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;PitchComputer.acc_z&quot;,x=115.0,y=95.0}, tail={id=&quot;acc_z._location&quot;,x=5.0,y=150.0}, points={35.0,105.0,35.0,150.0} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;CompositeActor.pitch&quot;,x=275.0,y=105.0}, tail={id=&quot;PitchComputer.pitch&quot;,x=115.0,y=95.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;CompositeActor.gyro_y&quot;,x=275.0,y=105.0}, tail={id=&quot;gyro_y._location&quot;,x=145.0,y=150.0}, points={190.0,115.0,190.0,150.0} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;angle_pitch._location&quot;,x=395.0,y=105.0}, tail={id=&quot;CompositeActor.angle_pitch&quot;,x=275.0,y=105.0}, points={} } }">
            </property>
        </relation>
        <link port="acc_x" relation="relation"/>
        <link port="acc_y" relation="relation2"/>
        <link port="acc_z" relation="relation3"/>
        <link port="gyro_y" relation="relation5"/>
        <link port="angle_pitch" relation="relation6"/>
        <link port="PitchComputer.acc_x" relation="relation"/>
        <link port="PitchComputer.acc_y" relation="relation2"/>
        <link port="PitchComputer.acc_z" relation="relation3"/>
        <link port="PitchComputer.pitch" relation="relation4"/>
        <link port="CompositeActor.pitch" relation="relation4"/>
        <link port="CompositeActor.gyro_y" relation="relation5"/>
        <link port="CompositeActor.angle_pitch" relation="relation6"/>
    </entity>
    <entity name="AnglePitchPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={21, 45, 522, 387}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[500, 300]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{970.0, 140.0}">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xRange min="0.0" max="114.0"/>
<yRange min="-0.500460586687474" max="0.4643277436654457"/>
</plot>?>
        </configure>
    </entity>
    <entity name="LabelDisplay2" class="ptolemy.actor.lib.gui.Display">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={63, 818, 374, 273}, maximized=false}">
        </property>
        <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[352, 186]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1395.0, 245.0}">
        </property>
    </entity>
    <entity name="DiscreteClock" class="ptolemy.actor.lib.DiscreteClock">
        <doc>Create periodic timed events.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{55.0, 205.0}">
        </property>
    </entity>
    <entity name="emergencyDelay" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1405.0, 305.0}">
        </property>
        <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{35.0, -330.0}">
            </property>
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={313, 480, 1098, 765}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[859, 619]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0136405695012394">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{374.1176470588234, -60.67555147058823}">
        </property>
        <property name="emergencyDelay" class="ptolemy.data.expr.Parameter" value="10">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, -350.0}">
            </property>
        </property>
        <port name="activity" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{370.0, -265.0}">
            </property>
        </port>
        <entity name="FSMActor" class="ptolemy.domains.modal.kernel.FSMActor">
            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                <configure>
    <entity name="StateLibrary" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="State" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity>
  </configure>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{500.0, -230.0}">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 392, 939, 656}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.25">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{356.69898897058823, 315.5675551470588}">
            </property>
            <port name="activity" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[15.0, 210.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="user_input" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[10.0, 260.0]">
                </property>
            </port>
            <port name="alarm" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[655.0, 220.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="Running" class="ptolemy.domains.modal.kernel.State">
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[171.9896359964021, 217.60445824209415]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </entity>
            <entity name="Alarm" class="ptolemy.domains.modal.kernel.State">
                <property name="_location" class="ptolemy.kernel.util.Location" value="[401.98963599640206, 212.60445824209415]">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="activity == &quot;fall&quot;">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="alarm = true">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.04204360253273515">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="user_input == &quot;safe&quot;">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.0593887493374115">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="alarm = true">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.779857780380339">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.5454234594056002">
                </property>
                <property name="defaultTransition" class="ptolemy.data.expr.Parameter" value="true">
                    <display name="default"/>
                </property>
            </relation>
            <link port="Running.incomingPort" relation="relation2"/>
            <link port="Running.outgoingPort" relation="relation"/>
            <link port="Alarm.incomingPort" relation="relation"/>
            <link port="Alarm.incomingPort" relation="relation3"/>
            <link port="Alarm.outgoingPort" relation="relation2"/>
            <link port="Alarm.outgoingPort" relation="relation3"/>
        </entity>
        <entity name="WarningMessage" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="&quot;?WARNING?\nFALL DETECTED\nAre you okay? [yes/no]&quot;">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{800.0, -230.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1/signalFrequency">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{290.0, -220.0}">
            </property>
        </entity>
        <entity name="InteractiveShell2" class="ptolemy.actor.lib.gui.InteractiveShell">
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={882, 786, 670, 521}, maximized=false}">
            </property>
            <doc>Produce strings from an interactive shell on the screen</doc>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1095.0, -220.0}">
            </property>
        </entity>
        <entity name="Expression4" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="in == &quot;yes&quot;? &quot;safe&quot;:&quot;fall&quot;">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{105.0, -220.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;activity._location&quot;,x=370.0,y=-265.0}, tail={id=&quot;FSMActor.activity&quot;,x=500.0,y=-230.0}, points={405.0,-265.0,405.0,-240.0} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="{590.0, -230.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;relation2.vertex1&quot;,x=590.0,y=-230.0}, tail={id=&quot;FSMActor.alarm&quot;,x=500.0,y=-230.0}, points={} },{ head={id=&quot;WarningMessage.in&quot;,x=800.0,y=-230.0}, tail={id=&quot;relation2.vertex1&quot;,x=590.0,y=-230.0}, points={} },{ head={id=&quot;.TimeDelay2.input&quot;,x=805.0,y=-255.0}, tail={id=&quot;relation2.vertex1&quot;,x=605.0,y=-255.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;FSMActor.user_input&quot;,x=500.0,y=-230.0}, tail={id=&quot;relation3.vertex&quot;,x=375.0,y=-220.0}, points={} },{ head={id=&quot;TimeDelay.output&quot;,x=290.0,y=-220.0}, tail={id=&quot;relation3.vertex&quot;,x=375.0,y=-220.0}, points={} } }">
            </property>
            <vertex name="vertex" value="{375.0, -220.0}">
            </vertex>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;WarningMessage.output&quot;,x=800.0,y=-230.0}, tail={id=&quot;relation8.vertex&quot;,x=1010.0,y=-230.0}, points={} },{ head={id=&quot;InteractiveShell2.input&quot;,x=1095.0,y=-220.0}, tail={id=&quot;relation8.vertex&quot;,x=1010.0,y=-230.0}, points={} } }">
            </property>
            <vertex name="vertex" value="{1010.0, -230.0}">
            </vertex>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;TimeDelay.input&quot;,x=290.0,y=-220.0}, tail={id=&quot;relation.vertex&quot;,x=220.0,y=-220.0}, points={} },{ head={id=&quot;Expression4.output&quot;,x=105.0,y=-220.0}, tail={id=&quot;relation.vertex&quot;,x=220.0,y=-220.0}, points={} } }">
            </property>
            <vertex name="vertex" value="{220.0, -220.0}">
            </vertex>
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;.WarningMessage2.output&quot;,x=1265.0,y=-250.0}, tail={id=&quot;relation10.vertex&quot;,x=1380.0,y=-250.0}, points={} },{ head={id=&quot;relation10.vertex&quot;,x=5.0,y=-220.0}, tail={id=&quot;InteractiveShell2.output&quot;,x=1095.0,y=-220.0}, points={5.0,-295.0,1190.0,-295.0,1190.0,-220.0} },{ head={id=&quot;Expression4.in&quot;,x=105.0,y=-220.0}, tail={id=&quot;relation10.vertex&quot;,x=5.0,y=-220.0}, points={} } }">
            </property>
            <vertex name="vertex" value="{5.0, -220.0}">
            </vertex>
        </relation>
        <link port="activity" relation="relation4"/>
        <link port="FSMActor.activity" relation="relation4"/>
        <link port="FSMActor.user_input" relation="relation3"/>
        <link port="FSMActor.alarm" relation="relation2"/>
        <link port="WarningMessage.output" relation="relation8"/>
        <link port="WarningMessage.in" relation="relation2"/>
        <link port="TimeDelay.input" relation="relation"/>
        <link port="TimeDelay.output" relation="relation3"/>
        <link port="InteractiveShell2.input" relation="relation8"/>
        <link port="InteractiveShell2.output" relation="relation10"/>
        <link port="Expression4.output" relation="relation"/>
        <link port="Expression4.in" relation="relation10"/>
    </entity>
    <entity name="ActivityDetectionFSM" class="ptolemy.domains.modal.kernel.FSMActor">
        <property name="_library" class="ptolemy.moml.LibraryAttribute">
            <configure>
    <entity name="StateLibrary" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="State" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity>
  </configure>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1205.0, 245.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 392, 939, 656}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8000000000000007">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{620.5784119250727, 490.0251083374024}">
        </property>
        <property name="confirmationTimeout" class="ptolemy.data.expr.Parameter" value="5">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{245.0, 20.0}">
            </property>
        </property>
        <property name="fallDetectTimer" class="ptolemy.data.expr.Parameter" value="5">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{130.0, 20.0}">
            </property>
        </property>
        <port name="isWalking" class="ptolemy.domains.modal.modal.RefinementPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 195.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
            </property>
        </port>
        <port name="isJogging" class="ptolemy.domains.modal.modal.RefinementPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 260.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
            </property>
        </port>
        <port name="activity" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1215.0, 260.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="isFall" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 320.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
            </property>
        </port>
        <entity name="walking" class="ptolemy.domains.modal.kernel.State">
            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{590.0, 70.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="jogging" class="ptolemy.domains.modal.kernel.State">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{530.0, 465.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="fall" class="ptolemy.domains.modal.kernel.State">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{910.0, 335.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <entity name="prefall" class="ptolemy.domains.modal.kernel.State">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{660.0, 210.0}">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isJogging">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;walk to jogging&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.015654785739889654">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.6658852663987522">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;jogging._location&quot;,x=530.0,y=465.0}, tail={id=&quot;walking._location&quot;,x=590.0,y=70.0}, points={507.484375,448.3229064941406,507.484375,450.8229064941406,507.484375,449.15625,507.484375,447.4895935058594,507.484375,441.65625,443.4713439941406,438.7395935058594,379.4583435058594,435.8229064941406,251.4322967529297,435.8229064941406,187.41927337646484,430.40625,123.40625,424.9895935058594,123.40625,414.15625,123.40625,404.8359375,123.40625,395.515625,123.40625,387.7083435058594,123.40625,379.9010314941406,123.40625,372.09375,123.40625,364.2864685058594,123.40625,350.2161560058594,123.40625,336.1458435058594,123.40625,315.8125,123.40625,300.8984375,123.40625,285.984375,123.40625,276.4895935058594,123.40625,266.9947814941406,123.40625,257.5,123.40625,248.0052032470703,123.40625,230.98004150390625,123.40625,213.95486450195312,123.40625,189.39930725097656,123.40625,174.46788024902344,123.40625,159.5364532470703,123.40625,154.2291717529297,123.40625,148.921875,123.40625,143.6145782470703,123.40625,138.3072967529297,123.40625,130.2369842529297,123.40625,122.16666412353516,123.40625,111.33333587646484,197.8029556274414,105.91666412353516,272.1996612548828,100.5,420.9930725097656,100.5,495.3897705078125,97.58333587646484,569.7864990234375,94.66666412353516,569.7864990234375,88.83333587646484,569.7864990234375,87.16666412353516,569.7864990234375,85.5,569.7864990234375,88.0}, labelLocation={x=127.40625,y=263.5729064941406} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isWalking">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;jog to walking&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.6840551522727183">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;walking._location&quot;,x=590.0,y=70.0}, tail={id=&quot;jogging._location&quot;,x=530.0,y=465.0}, points={581.1198120117188,88.0,581.1198120117188,85.5,581.1198120117188,88.41666412353516,581.1198120117188,91.33333587646484,581.1198120117188,99.66666412353516,536.1258850097656,103.83333587646484,491.1319580078125,108.0,401.14410400390625,108.0,356.1501770019531,112.16666412353516,311.15625,116.33333587646484,311.15625,124.66666412353516,311.15625,131.4869842529297,311.15625,138.3072967529297,311.15625,143.6145782470703,311.15625,148.921875,311.15625,154.2291717529297,311.15625,159.5364532470703,311.15625,174.46788024902344,311.15625,189.39930725097656,311.15625,213.95486450195312,311.15625,230.98004150390625,311.15625,248.0052032470703,311.15625,257.5,311.15625,266.9947814941406,311.15625,276.4895935058594,311.15625,285.984375,311.15625,300.8984375,311.15625,315.8125,311.15625,336.1458435058594,311.15625,350.2161560058594,311.15625,364.2864685058594,311.15625,372.09375,311.15625,379.9010314941406,311.15625,387.7083435058594,311.15625,395.515625,311.15625,403.5859375,311.15625,411.65625,311.15625,419.9895935058594,345.7109375,424.15625,380.265625,428.3229064941406,449.375,428.3229064941406,483.9296875,432.4895935058594,518.484375,436.65625,518.484375,444.9895935058594,518.484375,447.90625,518.484375,450.8229064941406,518.484375,448.3229064941406}, labelLocation={x=315.15625,y=263.5729064941406} } }">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isWalking">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;fall to walking&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.011270297306885262">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.6278766957199438">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;walking._location&quot;,x=590.0,y=70.0}, tail={id=&quot;fall._location&quot;,x=910.0,y=335.0}, points={615.1198120117188,88.0,615.1198120117188,85.5,615.1198120117188,87.16666412353516,615.1198120117188,88.83333587646484,615.1198120117188,94.66666412353516,679.5556030273438,97.58333587646484,743.9913330078125,100.5,872.8628540039062,100.5,937.2986450195312,105.91666412353516,1001.734375,111.33333587646484,1001.734375,122.16666412353516,1001.734375,130.2369842529297,1001.734375,138.3072967529297,1001.734375,143.6145782470703,1001.734375,148.921875,1001.734375,154.2291717529297,1001.734375,159.5364532470703,1001.734375,174.46788024902344,1001.734375,189.39930725097656,1001.734375,213.95486450195312,1001.734375,230.14669799804688,1001.734375,246.3385467529297,1001.734375,254.1666717529297,1001.734375,261.9947814941406,1001.734375,269.8229064941406,1001.734375,277.6510314941406,1001.734375,284.4817810058594,1001.734375,291.3125,1001.734375,297.1458435058594,987.7994995117188,300.0625,973.8645629882812,302.9791564941406,945.9948120117188,302.9791564941406,932.0598754882812,305.8958435058594,918.125,308.8125,918.125,314.6458435058594,918.125,316.3125,918.125,317.9791564941406,918.125,315.4791564941406}, labelLocation={x=1005.734375,y=133.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isJogging">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;fall to jogg&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.03318878600630095">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;jogging._location&quot;,x=530.0,y=465.0}, tail={id=&quot;fall._location&quot;,x=910.0,y=335.0}, points={551.484375,448.3229064941406,551.484375,450.8229064941406,551.484375,447.90625,551.484375,444.9895935058594,551.484375,436.65625,611.5911560058594,432.4895935058594,671.6979370117188,428.3229064941406,791.9114379882812,428.3229064941406,852.0182495117188,424.15625,912.125,419.9895935058594,912.125,411.65625,912.125,403.5859375,912.125,395.515625,912.125,387.7083435058594,912.125,379.9010314941406,912.125,372.09375,912.125,364.2864685058594,912.125,359.1328125,912.125,353.9791564941406,912.125,351.4791564941406}, labelLocation={x=916.125,y=381.4791564941406} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isFall">
            </property>
            <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="fallDetectTimer = 1">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.141592653589793">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;prefall._location&quot;,x=660.0,y=210.0}, tail={id=&quot;walking._location&quot;,x=590.0,y=70.0}, points={651.3229370117188,189.84375,651.3229370117188,189.84375,651.3229370117188,186.9270782470703,651.3229370117188,184.0104217529297,651.3229370117188,178.1770782470703,635.7117919921875,175.2604217529297,620.1007080078125,172.34375,588.8784790039062,172.34375,573.2673950195312,169.4270782470703,557.6562805175781,166.5104217529297,557.6562805175781,160.6770782470703,557.6562805175781,155.9401092529297,557.6562805175781,151.203125,557.6562805175781,147.5625,557.6562805175781,143.921875,557.6562805175781,140.28125,557.6562805175781,136.640625,557.6562805175781,131.9036407470703,557.6562805175781,127.16666412353516,557.6562805175781,121.33333587646484,563.4557495117188,118.41666412353516,569.2552490234375,115.5,580.8541870117188,115.5,586.6536865234375,110.08333587646484,592.4531555175781,104.66666412353516,592.4531555175781,93.83333587646484,592.4531555175781,89.66666412353516,592.4531555175781,85.5,592.4531555175781,88.0}, labelLocation={x=561.6562805175781,y=133.9921875} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="fallDetectTimer == confirmationTimeout">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;fall&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.094364606586371">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;fall._location&quot;,x=910.0,y=335.0}, tail={id=&quot;prefall._location&quot;,x=660.0,y=210.0}, points={906.125,315.4791564941406,906.125,317.9791564941406,906.125,316.3125,906.125,314.6458435058594,906.125,308.8125,879.9973754882812,305.8958435058594,853.8698120117188,302.9791564941406,801.6145629882812,302.9791564941406,775.4869995117188,300.0625,749.359375,297.1458435058594,749.359375,291.3125,749.359375,286.5650939941406,749.359375,281.8177185058594,749.359375,278.15625,749.359375,274.4947814941406,749.359375,270.8333435058594,749.359375,267.171875,749.359375,262.4244689941406,749.359375,257.6770935058594,749.359375,251.84375,736.9088745117188,248.9270782470703,724.4583129882812,246.0104217529297,699.5573120117188,246.0104217529297,687.1067504882812,243.09375,674.65625,240.1770782470703,674.65625,234.34375,674.65625,231.4270782470703,674.65625,228.5104217529297,674.65625,228.5104217529297}, labelLocation={x=753.359375,y=263.5104064941406} } }">
            </property>
        </relation>
        <relation name="relation9" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isFall">
            </property>
            <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="fallDetectTimer = fallDetectTimer + 1">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.966022118929854">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6353330785034323">
            </property>
            <property name="immediate" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="error" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;prefall._location&quot;,x=660.0,y=210.0}, tail={id=&quot;prefall._location&quot;,x=660.0,y=210.0}, points={617.65625,204.84375,615.4895935058594,207.0104217529297,615.4895935058594,209.1770782470703,615.4895935058594,211.34375,617.65625,213.5104217529297}, labelLocation={x=421.0833435058594,y=199.2473907470703} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isFall">
            </property>
            <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="fallDetectTimer = 1">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.8925700523103335">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;prefall._location&quot;,x=660.0,y=210.0}, tail={id=&quot;jogging._location&quot;,x=530.0,y=465.0}, points={660.65625,228.5104217529297,660.65625,233.5104217529297,660.65625,240.7578125,660.65625,248.0052032470703,660.65625,257.5,660.65625,266.9947814941406,660.65625,276.4895935058594,660.65625,285.984375,660.65625,300.8984375,660.65625,315.8125,660.65625,336.1458435058594,660.65625,350.2161560058594,660.65625,364.2864685058594,660.65625,372.09375,660.65625,379.9010314941406,660.65625,387.7083435058594,660.65625,395.515625,660.65625,402.3359375,660.65625,409.15625,660.65625,414.9895935058594,640.6276245117188,417.90625,620.5989685058594,420.8229064941406,580.5416564941406,420.8229064941406,560.5130310058594,426.2395935058594,540.484375,431.65625,540.484375,442.4895935058594,540.484375,446.65625,540.484375,450.8229064941406,540.484375,448.3229064941406}, labelLocation={x=664.65625,y=323.5494689941406} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isWalking">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;pre to walk&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.0087243764912097">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;walking._location&quot;,x=590.0,y=70.0}, tail={id=&quot;prefall._location&quot;,x=660.0,y=210.0}, points={603.7864990234375,88.0,603.7864990234375,85.5,603.7864990234375,88.41666412353516,603.7864990234375,91.33333587646484,603.7864990234375,99.66666412353516,618.8324890136719,103.83333587646484,633.8784790039062,108.0,663.970458984375,108.0,679.0164794921875,112.16666412353516,694.0625,116.33333587646484,694.0624389648438,124.66666412353516,694.0624389648438,130.6536407470703,694.0624389648438,136.640625,694.0625,140.28125,694.0625,143.921875,694.0625,147.5625,694.0625,151.203125,694.0625,155.9401092529297,694.0624389648438,160.6770782470703,694.0625,166.5104217529297,690.05029296875,169.4270782470703,686.0381469726562,172.34375,678.0138549804688,172.34375,674.001708984375,175.2604217529297,669.9895629882812,178.1770782470703,669.9895629882812,184.0104217529297,669.9895629882812,186.9270782470703,669.9895629882812,189.84375,669.9895629882812,189.84375}, labelLocation={x=698.0625,y=133.0} } }">
            </property>
        </relation>
        <relation name="relation10" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isJogging">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;pre to jogg&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.2005103663176556">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;jogging._location&quot;,x=530.0,y=465.0}, tail={id=&quot;prefall._location&quot;,x=660.0,y=210.0}, points={529.484375,448.3229064941406,529.484375,450.8229064941406,529.484375,446.65625,529.484375,442.4895935058594,529.484375,431.65625,523.3880310058594,426.2395935058594,517.2916564941406,420.8229064941406,505.0989685058594,420.8229064941406,499.0025939941406,417.90625,492.90625,414.9895935058594,492.90625,409.15625,492.90625,402.3359375,492.90625,395.515625,492.90625,387.7083435058594,492.90625,379.9010314941406,492.90625,372.09375,492.90625,364.2864685058594,492.90625,350.2161560058594,492.90625,336.1458435058594,492.90625,315.8125,492.90625,302.9817810058594,492.90625,290.1510314941406,492.90625,284.8229064941406,492.90625,279.4947814941406,492.90625,274.1666564941406,492.90625,268.8385314941406,492.90625,263.2578125,492.90625,257.6770935058594,492.90625,251.84375,518.53125,248.9270782470703,544.15625,246.0104217529297,595.40625,246.0104217529297,621.03125,243.09375,646.65625,240.1770782470703,646.65625,234.34375,646.65625,231.4270782470703,646.65625,228.5104217529297,646.65625,228.5104217529297}, labelLocation={x=496.90625,y=263.5729064941406} } }">
            </property>
        </relation>
        <link port="walking.incomingPort" relation="relation2"/>
        <link port="walking.incomingPort" relation="relation5"/>
        <link port="walking.incomingPort" relation="relation4"/>
        <link port="walking.outgoingPort" relation="relation"/>
        <link port="walking.outgoingPort" relation="relation6"/>
        <link port="jogging.incomingPort" relation="relation"/>
        <link port="jogging.incomingPort" relation="relation7"/>
        <link port="jogging.incomingPort" relation="relation10"/>
        <link port="jogging.outgoingPort" relation="relation2"/>
        <link port="jogging.outgoingPort" relation="relation3"/>
        <link port="fall.incomingPort" relation="relation8"/>
        <link port="fall.outgoingPort" relation="relation5"/>
        <link port="fall.outgoingPort" relation="relation7"/>
        <link port="prefall.incomingPort" relation="relation6"/>
        <link port="prefall.incomingPort" relation="relation9"/>
        <link port="prefall.incomingPort" relation="relation3"/>
        <link port="prefall.outgoingPort" relation="relation8"/>
        <link port="prefall.outgoingPort" relation="relation9"/>
        <link port="prefall.outgoingPort" relation="relation4"/>
        <link port="prefall.outgoingPort" relation="relation10"/>
    </entity>
    <entity name="label" class="ptolemy.actor.lib.RecordDisassembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{445.0, 185.0}">
        </property>
        <port name="label" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
    </entity>
    <entity name="LabelDisplay" class="ptolemy.actor.lib.gui.Display">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={50, 500, 374, 273}, maximized=false}">
        </property>
        <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[352, 186]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{575.0, 205.0}">
        </property>
    </entity>
    <entity name="GuardsCalculator" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1020.0, 245.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={185, 332, 939, 656}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 420.875}">
        </property>
        <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 200.0}">
            </property>
        </port>
        <port name="acceleration" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 255.0}">
            </property>
        </port>
        <port name="rotationrate" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 310.0}">
            </property>
        </port>
        <port name="isWalking" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{605.0, 220.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
            </property>
        </port>
        <port name="isJogging" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{605.0, 275.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
            </property>
        </port>
        <port name="isFall" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{605.0, 330.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
            </property>
        </port>
        <entity name="isWalking" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(angle_pitch &gt; 423.81 &amp;&amp; angle_pitch &lt;= 467.97 &amp;&amp; rotationrate &lt;= 2.84) || (angle_pitch &gt; 423.81 &amp;&amp; angle_pitch &gt; 467.97)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 240.0}">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
                </property>
            </port>
            <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="acceleration" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="rotationrate" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="defaultValue" class="ptolemy.data.expr.Parameter">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="isJogging" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="angle_pitch &lt;= 423.81 &amp;&amp; angle_pitch &lt;= 165.60">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{365.0, 300.0}">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
                </property>
            </port>
            <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="acceleration" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="rotationrate" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="isFall" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="angle_pitch &lt;= 423.81 &amp;&amp; angle_pitch &gt; 165.60 || angle_pitch &gt; 423.81 &amp;&amp; angle_pitch &lt;= 467.97 &amp;&amp; rotationrate &gt; 2.84">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 350.0}">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
                </property>
            </port>
            <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="acceleration" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="rotationrate" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="{115.0, 255.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;acceleration._location&quot;,x=20.0,y=255.0}, tail={id=&quot;relation2.vertex1&quot;,x=115.0,y=255.0}, points={} },{ head={id=&quot;isWalking.acceleration&quot;,x=385.0,y=240.0}, tail={id=&quot;relation2.vertex1&quot;,x=115.0,y=255.0}, points={115.0,240.0} },{ head={id=&quot;isJogging.acceleration&quot;,x=365.0,y=300.0}, tail={id=&quot;relation2.vertex1&quot;,x=115.0,y=255.0}, points={115.0,300.0} },{ head={id=&quot;isFall.acceleration&quot;,x=385.0,y=350.0}, tail={id=&quot;relation2.vertex1&quot;,x=115.0,y=255.0}, points={115.0,350.0} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="{130.0, 310.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;rotationrate._location&quot;,x=25.0,y=310.0}, tail={id=&quot;relation3.vertex1&quot;,x=130.0,y=310.0}, points={} },{ head={id=&quot;isWalking.rotationrate&quot;,x=385.0,y=240.0}, tail={id=&quot;relation3.vertex1&quot;,x=130.0,y=310.0}, points={130.0,250.0} },{ head={id=&quot;isJogging.rotationrate&quot;,x=365.0,y=300.0}, tail={id=&quot;relation3.vertex1&quot;,x=130.0,y=310.0}, points={} },{ head={id=&quot;isFall.rotationrate&quot;,x=385.0,y=350.0}, tail={id=&quot;relation3.vertex1&quot;,x=130.0,y=310.0}, points={130.0,360.0} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{145.0, 200.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;isWalking.angle_pitch&quot;,x=385.0,y=240.0}, tail={id=&quot;relation4.vertex1&quot;,x=145.0,y=200.0}, points={145.0,230.0} },{ head={id=&quot;isJogging.angle_pitch&quot;,x=365.0,y=300.0}, tail={id=&quot;relation4.vertex1&quot;,x=145.0,y=200.0}, points={145.0,290.0} },{ head={id=&quot;angle_pitch._location&quot;,x=25.0,y=200.0}, tail={id=&quot;relation4.vertex1&quot;,x=145.0,y=200.0}, points={} },{ head={id=&quot;isFall.angle_pitch&quot;,x=385.0,y=350.0}, tail={id=&quot;relation4.vertex1&quot;,x=145.0,y=200.0}, points={145.0,340.0} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;isWalking._location&quot;,x=605.0,y=220.0}, tail={id=&quot;isWalking.output&quot;,x=385.0,y=240.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;isJogging._location&quot;,x=605.0,y=275.0}, tail={id=&quot;isJogging.output&quot;,x=365.0,y=300.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;isFall._location&quot;,x=605.0,y=330.0}, tail={id=&quot;isFall.output&quot;,x=385.0,y=350.0}, points={} } }">
            </property>
        </relation>
        <link port="angle_pitch" relation="relation4"/>
        <link port="acceleration" relation="relation2"/>
        <link port="rotationrate" relation="relation3"/>
        <link port="isWalking" relation="relation"/>
        <link port="isJogging" relation="relation5"/>
        <link port="isFall" relation="relation6"/>
        <link port="isWalking.output" relation="relation"/>
        <link port="isWalking.angle_pitch" relation="relation4"/>
        <link port="isWalking.acceleration" relation="relation2"/>
        <link port="isWalking.rotationrate" relation="relation3"/>
        <link port="isJogging.output" relation="relation5"/>
        <link port="isJogging.angle_pitch" relation="relation4"/>
        <link port="isJogging.acceleration" relation="relation2"/>
        <link port="isJogging.rotationrate" relation="relation3"/>
        <link port="isFall.output" relation="relation6"/>
        <link port="isFall.angle_pitch" relation="relation4"/>
        <link port="isFall.acceleration" relation="relation2"/>
        <link port="isFall.rotationrate" relation="relation3"/>
    </entity>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;CSVReader.endOfFile&quot;,x=225.0,y=215.0}, tail={id=&quot;Stop.input&quot;,x=360.0,y=245.0}, points={310.0,225.0,310.0,245.0} } }">
        </property>
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{390.0, 205.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;gyroscope.input&quot;,x=440.0,y=250.0}, tail={id=&quot;relation2.vertex1&quot;,x=390.0,y=205.0}, points={390.0,270.0} },{ head={id=&quot;CSVReader.output&quot;,x=225.0,y=215.0}, tail={id=&quot;relation2.vertex1&quot;,x=390.0,y=205.0}, points={} },{ head={id=&quot;accelerometer.input&quot;,x=420.0,y=110.0}, tail={id=&quot;relation2.vertex1&quot;,x=390.0,y=205.0}, points={390.0,130.0} },{ head={id=&quot;label.input&quot;,x=445.0,y=185.0}, tail={id=&quot;relation2.vertex1&quot;,x=390.0,y=205.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{665.0, 60.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;accelerometer.accel_x_list&quot;,x=420.0,y=110.0}, tail={id=&quot;relation4.vertex1&quot;,x=665.0,y=60.0}, points={525.0,120.0,525.0,60.0} },{ head={id=&quot;AnglePitchComputer.acc_x&quot;,x=765.0,y=140.0}, tail={id=&quot;relation4.vertex1&quot;,x=665.0,y=60.0}, points={665.0,120.0} },{ head={id=&quot;AccelerationComputer.acc_x&quot;,x=760.0,y=70.0}, tail={id=&quot;relation4.vertex1&quot;,x=665.0,y=60.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{635.0, 130.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AnglePitchComputer.acc_y&quot;,x=765.0,y=140.0}, tail={id=&quot;relation5.vertex1&quot;,x=635.0,y=130.0}, points={} },{ head={id=&quot;accelerometer.accel_y_list&quot;,x=420.0,y=110.0}, tail={id=&quot;relation5.vertex1&quot;,x=635.0,y=130.0}, points={} },{ head={id=&quot;AccelerationComputer.acc_y&quot;,x=760.0,y=70.0}, tail={id=&quot;relation5.vertex1&quot;,x=635.0,y=130.0}, points={635.0,70.0} } }">
        </property>
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{580.0, 155.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;accelerometer.accel_z_list&quot;,x=420.0,y=110.0}, tail={id=&quot;relation6.vertex1&quot;,x=580.0,y=155.0}, points={525.0,140.0,525.0,155.0} },{ head={id=&quot;AnglePitchComputer.acc_z&quot;,x=765.0,y=140.0}, tail={id=&quot;relation6.vertex1&quot;,x=580.0,y=155.0}, points={650.0,150.0,650.0,155.0} },{ head={id=&quot;AccelerationComputer.acc_z&quot;,x=760.0,y=70.0}, tail={id=&quot;relation6.vertex1&quot;,x=580.0,y=155.0}, points={650.0,80.0,650.0,155.0} } }">
        </property>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{580.0, 245.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;RotationComputer.gyro_x&quot;,x=765.0,y=255.0}, tail={id=&quot;relation7.vertex1&quot;,x=580.0,y=245.0}, points={} },{ head={id=&quot;gyroscope.gyro_x_list&quot;,x=440.0,y=250.0}, tail={id=&quot;relation7.vertex1&quot;,x=580.0,y=245.0}, points={525.0,260.0,525.0,245.0} } }">
        </property>
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{665.0, 270.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;gyroscope.gyro_y_list&quot;,x=440.0,y=250.0}, tail={id=&quot;relation8.vertex1&quot;,x=665.0,y=270.0}, points={} },{ head={id=&quot;RotationComputer.gyro_y&quot;,x=765.0,y=255.0}, tail={id=&quot;relation8.vertex1&quot;,x=665.0,y=270.0}, points={665.0,255.0} },{ head={id=&quot;AnglePitchComputer.gyro_y&quot;,x=765.0,y=140.0}, tail={id=&quot;relation8.vertex1&quot;,x=665.0,y=270.0}, points={665.0,160.0} } }">
        </property>
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{680.0, 300.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;gyroscope.gyro_z_list&quot;,x=440.0,y=250.0}, tail={id=&quot;relation9.vertex1&quot;,x=680.0,y=300.0}, points={525.0,280.0,525.0,300.0} },{ head={id=&quot;RotationComputer.gyro_z&quot;,x=765.0,y=255.0}, tail={id=&quot;relation9.vertex1&quot;,x=680.0,y=300.0}, points={680.0,265.0} } }">
        </property>
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{905.0, 255.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;RotationPlotter.input&quot;,x=970.0,y=310.0}, tail={id=&quot;relation10.vertex1&quot;,x=905.0,y=255.0}, points={905.0,310.0} },{ head={id=&quot;RotationComputer.rotation_rate&quot;,x=765.0,y=255.0}, tail={id=&quot;relation10.vertex1&quot;,x=905.0,y=255.0}, points={} },{ head={id=&quot;GuardsCalculator.rotationrate&quot;,x=1020.0,y=245.0}, tail={id=&quot;relation10.vertex1&quot;,x=905.0,y=255.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{905.0, 140.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AnglePitchPlotter.input&quot;,x=970.0,y=140.0}, tail={id=&quot;relation12.vertex1&quot;,x=905.0,y=140.0}, points={} },{ head={id=&quot;AnglePitchComputer.angle_pitch&quot;,x=765.0,y=140.0}, tail={id=&quot;relation12.vertex1&quot;,x=905.0,y=140.0}, points={} },{ head={id=&quot;ActivityDetectionFSM.isWalking&quot;,x=1020.0,y=265.0}, tail={id=&quot;relation12.vertex1&quot;,x=905.0,y=195.0}, points={920.0,255.0} },{ head={id=&quot;GuardsCalculator.acceleration&quot;,x=1020.0,y=245.0}, tail={id=&quot;relation12.vertex1&quot;,x=905.0,y=140.0}, points={905.0,245.0} } }">
        </property>
    </relation>
    <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{1345.0, 245.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;LabelDisplay2.input&quot;,x=1395.0,y=245.0}, tail={id=&quot;relation13.vertex1&quot;,x=1345.0,y=245.0}, points={} },{ head={id=&quot;emergencyDelay.activity&quot;,x=1405.0,y=305.0}, tail={id=&quot;relation13.vertex1&quot;,x=1345.0,y=245.0}, points={1345.0,305.0} },{ head={id=&quot;ActivityDetectionFSM.activity&quot;,x=1205.0,y=245.0}, tail={id=&quot;relation13.vertex1&quot;,x=1345.0,y=245.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;CSVReader.trigger&quot;,x=225.0,y=215.0}, tail={id=&quot;DiscreteClock.output&quot;,x=55.0,y=205.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;.label.label&quot;,x=455.0,y=60.0}, tail={id=&quot;.LabelDisplay.input&quot;,x=580.0,y=80.0}, points={} } }">
        </property>
        <vertex name="vertex" value="{125.0, -15.0}">
        </vertex>
    </relation>
    <relation name="relation15" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;label.label&quot;,x=445.0,y=185.0}, tail={id=&quot;LabelDisplay.input&quot;,x=575.0,y=205.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{920.0, 70.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AccelerationComputer.acceleration&quot;,x=760.0,y=70.0}, tail={id=&quot;relation11.vertex1&quot;,x=920.0,y=70.0}, points={} },{ head={id=&quot;AccelerationPlotter.input&quot;,x=970.0,y=70.0}, tail={id=&quot;relation11.vertex1&quot;,x=920.0,y=70.0}, points={} },{ head={id=&quot;ActivityDetectionFSM.isJogging&quot;,x=1020.0,y=265.0}, tail={id=&quot;relation11.vertex1&quot;,x=920.0,y=125.0}, points={905.0,265.0} },{ head={id=&quot;GuardsCalculator.angle_pitch&quot;,x=1020.0,y=245.0}, tail={id=&quot;relation11.vertex1&quot;,x=920.0,y=70.0}, points={920.0,235.0} } }">
        </property>
    </relation>
    <relation name="relation16" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;ActivityDetectionFSM.isWalking&quot;,x=1205.0,y=245.0}, tail={id=&quot;GuardsCalculator.isWalking&quot;,x=1020.0,y=245.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation17" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;ActivityDetectionFSM.isJogging&quot;,x=1205.0,y=245.0}, tail={id=&quot;GuardsCalculator.isJogging&quot;,x=1020.0,y=245.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation18" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;ActivityDetectionFSM.isFall&quot;,x=1205.0,y=245.0}, tail={id=&quot;GuardsCalculator.isFall&quot;,x=1020.0,y=245.0}, points={} } }">
        </property>
    </relation>
    <link port="CSVReader.output" relation="relation2"/>
    <link port="CSVReader.trigger" relation="relation14"/>
    <link port="CSVReader.endOfFile" relation="relation"/>
    <link port="Stop.input" relation="relation"/>
    <link port="gyroscope.input" relation="relation2"/>
    <link port="gyroscope.gyro_x_list" relation="relation7"/>
    <link port="gyroscope.gyro_y_list" relation="relation8"/>
    <link port="gyroscope.gyro_z_list" relation="relation9"/>
    <link port="accelerometer.input" relation="relation2"/>
    <link port="accelerometer.accel_x_list" relation="relation4"/>
    <link port="accelerometer.accel_y_list" relation="relation5"/>
    <link port="accelerometer.accel_z_list" relation="relation6"/>
    <link port="RotationComputer.gyro_x" relation="relation7"/>
    <link port="RotationComputer.gyro_y" relation="relation8"/>
    <link port="RotationComputer.gyro_z" relation="relation9"/>
    <link port="RotationComputer.rotation_rate" relation="relation10"/>
    <link port="AccelerationComputer.acc_x" relation="relation4"/>
    <link port="AccelerationComputer.acc_y" relation="relation5"/>
    <link port="AccelerationComputer.acc_z" relation="relation6"/>
    <link port="AccelerationComputer.acceleration" relation="relation11"/>
    <link port="AccelerationPlotter.input" relation="relation11"/>
    <link port="RotationPlotter.input" relation="relation10"/>
    <link port="AnglePitchComputer.acc_x" relation="relation4"/>
    <link port="AnglePitchComputer.acc_y" relation="relation5"/>
    <link port="AnglePitchComputer.acc_z" relation="relation6"/>
    <link port="AnglePitchComputer.gyro_y" relation="relation8"/>
    <link port="AnglePitchComputer.angle_pitch" relation="relation12"/>
    <link port="AnglePitchPlotter.input" relation="relation12"/>
    <link port="LabelDisplay2.input" relation="relation13"/>
    <link port="DiscreteClock.output" relation="relation14"/>
    <link port="emergencyDelay.activity" relation="relation13"/>
    <link port="ActivityDetectionFSM.isWalking" relation="relation16"/>
    <link port="ActivityDetectionFSM.isJogging" relation="relation17"/>
    <link port="ActivityDetectionFSM.activity" relation="relation13"/>
    <link port="ActivityDetectionFSM.isFall" relation="relation18"/>
    <link port="label.input" relation="relation2"/>
    <link port="label.label" relation="relation15"/>
    <link port="LabelDisplay.input" relation="relation15"/>
    <link port="GuardsCalculator.angle_pitch" relation="relation11"/>
    <link port="GuardsCalculator.acceleration" relation="relation12"/>
    <link port="GuardsCalculator.rotationrate" relation="relation10"/>
    <link port="GuardsCalculator.isWalking" relation="relation16"/>
    <link port="GuardsCalculator.isJogging" relation="relation17"/>
    <link port="GuardsCalculator.isFall" relation="relation18"/>
</entity>
