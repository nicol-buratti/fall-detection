<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="model_fall_detection_with_prefall" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="11.0.1">
    </property>
    <property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute">
        <property name="textSize" class="ptolemy.data.expr.Parameter" value="14">
        </property>
        <property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}">
        </property>
        <property name="text" class="ptolemy.kernel.util.StringAttribute" value="https://www.cs.virginia.edu/~stankovic/psfiles/bsn09-1.pdf">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{370.0, -30.0}">
        </property>
    </property>
    <property name="signalFrequency" class="ptolemy.data.expr.Parameter" value="50">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{240.0, -20.0}">
        </property>
    </property>
    <property name="window_size" class="ptolemy.data.expr.Parameter" value="20">
        <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
            <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
            </property>
        </property>
        <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
            <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{120.0, -20.0}">
        </property>
    </property>
    <property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{45.0, 0.0}">
        </property>
    </property>
    <property name="enableBackwardTypeInference" class="ptolemy.data.expr.Parameter" value="true">
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 392, 939, 656}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.1386439245920685">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{1169.3179381127452, 232.2867647058824}">
    </property>
    <entity name="CSVReader" class="ptolemy.actor.lib.io.CSVReader">
        <property name="fileOrURL" class="ptolemy.actor.parameters.FilePortParameter" value="raw_data222.csv">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{225.0, 215.0}">
        </property>
    </entity>
    <entity name="Stop" class="ptolemy.actor.lib.Stop">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{360.0, 245.0}">
        </property>
    </entity>
    <entity name="gyroscope" class="ptolemy.actor.lib.RecordDisassembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{440.0, 250.0}">
        </property>
        <port name="gyro_x_list" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="gyro_y_list" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="gyro_z_list" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
    </entity>
    <entity name="accelerometer" class="ptolemy.actor.lib.RecordDisassembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{420.0, 105.0}">
        </property>
        <port name="accel_x_list" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="accel_y_list" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="accel_z_list" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
    </entity>
    <entity name="RotationComputer" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{765.0, 250.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={532, 562, 939, 656}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 423.25}">
        </property>
        <port name="gyro_x" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 205.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="gyro_y" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 260.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="gyro_z" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 315.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="rotation_rate" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{330.0, 275.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 205.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 260.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Expression3" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 315.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{235.0, 275.0}">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression.in&quot;,x=110.0,y=205.0}, tail={id=&quot;acc_x._location&quot;,x=20.0,y=205.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression2.in&quot;,x=110.0,y=260.0}, tail={id=&quot;acc_y._location&quot;,x=20.0,y=260.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression3.in&quot;,x=110.0,y=315.0}, tail={id=&quot;acc_z._location&quot;,x=20.0,y=315.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AddSubtract.plus&quot;,x=235.0,y=275.0,index=3}, tail={id=&quot;Expression.output&quot;,x=110.0,y=205.0}, points={175.0,255.0,175.0,205.0} } }">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AddSubtract.plus&quot;,x=235.0,y=275.0,index=3}, tail={id=&quot;Expression2.output&quot;,x=110.0,y=260.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AddSubtract.plus&quot;,x=235.0,y=275.0,index=3}, tail={id=&quot;Expression3.output&quot;,x=110.0,y=315.0}, points={175.0,265.0,175.0,315.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;acceleration._location&quot;,x=330.0,y=275.0}, tail={id=&quot;AddSubtract.output&quot;,x=235.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <link port="gyro_x" relation="relation"/>
        <link port="gyro_y" relation="relation2"/>
        <link port="gyro_z" relation="relation3"/>
        <link port="rotation_rate" relation="relation7"/>
        <link port="Expression.output" relation="relation4"/>
        <link port="Expression.in" relation="relation"/>
        <link port="Expression2.output" relation="relation5"/>
        <link port="Expression2.in" relation="relation2"/>
        <link port="Expression3.output" relation="relation6"/>
        <link port="Expression3.in" relation="relation3"/>
        <link port="AddSubtract.plus" relation="relation4"/>
        <link port="AddSubtract.plus" relation="relation5"/>
        <link port="AddSubtract.plus" relation="relation6"/>
        <link port="AddSubtract.output" relation="relation7"/>
    </entity>
    <entity name="AccelerationComputer" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{760.0, 70.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={532, 562, 939, 656}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 423.25}">
        </property>
        <port name="acc_x" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 205.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="acc_y" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 260.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="acc_z" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 315.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="acceleration" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{460.0, 275.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 205.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 260.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Expression3" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 315.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{235.0, 275.0}">
            </property>
        </entity>
        <entity name="MovingAverage" class="ptolemy.actor.lib.MovingAverage">
            <property name="maxPastInputsToAverage" class="ptolemy.data.expr.Parameter" value="window_size">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{365.0, 275.0}">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;acc_x._location&quot;,x=20.0,y=205.0}, tail={id=&quot;Expression.in&quot;,x=110.0,y=205.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;acc_y._location&quot;,x=20.0,y=260.0}, tail={id=&quot;Expression2.in&quot;,x=110.0,y=260.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;acc_z._location&quot;,x=20.0,y=315.0}, tail={id=&quot;Expression3.in&quot;,x=110.0,y=315.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=110.0,y=205.0}, tail={id=&quot;AddSubtract.plus&quot;,x=235.0,y=275.0,index=3}, points={175.0,205.0,175.0,255.0} } }">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression2.output&quot;,x=110.0,y=260.0}, tail={id=&quot;AddSubtract.plus&quot;,x=235.0,y=275.0,index=3}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression3.output&quot;,x=110.0,y=315.0}, tail={id=&quot;AddSubtract.plus&quot;,x=235.0,y=275.0,index=3}, points={175.0,315.0,175.0,265.0} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;MovingAverage.input&quot;,x=365.0,y=275.0}, tail={id=&quot;AddSubtract.output&quot;,x=235.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;acceleration._location&quot;,x=460.0,y=275.0}, tail={id=&quot;MovingAverage.output&quot;,x=365.0,y=275.0}, points={} } }">
            </property>
        </relation>
        <link port="acc_x" relation="relation"/>
        <link port="acc_y" relation="relation2"/>
        <link port="acc_z" relation="relation3"/>
        <link port="acceleration" relation="relation7"/>
        <link port="Expression.output" relation="relation4"/>
        <link port="Expression.in" relation="relation"/>
        <link port="Expression2.output" relation="relation5"/>
        <link port="Expression2.in" relation="relation2"/>
        <link port="Expression3.output" relation="relation6"/>
        <link port="Expression3.in" relation="relation3"/>
        <link port="AddSubtract.plus" relation="relation4"/>
        <link port="AddSubtract.plus" relation="relation5"/>
        <link port="AddSubtract.plus" relation="relation6"/>
        <link port="AddSubtract.output" relation="relation8"/>
        <link port="MovingAverage.input" relation="relation8"/>
        <link port="MovingAverage.output" relation="relation7"/>
    </entity>
    <entity name="AccelerationPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="Acceleration">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={539, 48, 522, 387}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[500, 300]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{970.0, 70.0}">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xRange min="0.0" max="30215.0"/>
<yRange min="62.37049999999999" max="575.322"/>
</plot>?>
        </configure>
    </entity>
    <entity name="RotationPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="Rotation">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1084, 55, 522, 387}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[500, 300]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{970.0, 305.0}">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xRange min="0.0" max="30215.0"/>
<yRange min="0.0" max="35.330000000000005"/>
</plot>?>
        </configure>
    </entity>
    <entity name="AnglePitchComputer" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{765.0, 135.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={527, 221, 939, 656}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.250000000000001">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{340.35294117647044, 147.69117647058815}">
        </property>
        <property name="alpha" class="ptolemy.data.expr.Parameter" value="0.98">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{120.0, -35.0}">
            </property>
        </property>
        <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
            <property name="iterations" class="ptolemy.data.expr.Parameter" value="AUTO">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{45.0, -15.0}">
            </property>
        </property>
        <port name="acc_x" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, 40.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="acc_y" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, 95.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="acc_z" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, 150.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
        </port>
        <port name="gyro_y" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{145.0, 150.0}">
            </property>
        </port>
        <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{395.0, 105.0}">
            </property>
        </port>
        <entity name="PitchComputer" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="{115.0, 95.0}">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={749, 540, 939, 656}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 421.015625}">
            </property>
            <port name="acc_x" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{260.0, 200.0}">
                </property>
            </port>
            <port name="acc_y" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 200.0}">
                </property>
            </port>
            <port name="acc_z" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 255.0}">
                </property>
            </port>
            <port name="pitch" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="double">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{725.0, 255.0}">
                </property>
            </port>
            <entity name="Expression" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 200.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Expression2" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="pow(in, 2)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{110.0, 255.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{230.0, 265.0}">
                </property>
            </entity>
            <entity name="Expression3" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="-in">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{345.0, 200.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Expression4" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="atan2(in, in2)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{500.0, 255.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="in2" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="Expression5" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="sqrt(in)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{355.0, 265.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="Expression6" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="in * 180 / pi">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{635.0, 255.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=110.0,y=200.0}, tail={id=&quot;AddSubtract.plus&quot;,x=230.0,y=265.0,index=2}, points={175.0,200.0,175.0,250.0} } }">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression2.output&quot;,x=110.0,y=255.0}, tail={id=&quot;AddSubtract.plus&quot;,x=230.0,y=265.0,index=2}, points={} } }">
                </property>
            </relation>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression3.output&quot;,x=345.0,y=200.0}, tail={id=&quot;Expression4.in&quot;,x=500.0,y=255.0}, points={420.0,200.0,420.0,245.0} } }">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression3.in&quot;,x=345.0,y=200.0}, tail={id=&quot;acc_x._location&quot;,x=260.0,y=200.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression.in&quot;,x=110.0,y=200.0}, tail={id=&quot;acc_y._location&quot;,x=20.0,y=200.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression2.in&quot;,x=110.0,y=255.0}, tail={id=&quot;acc_z._location&quot;,x=20.0,y=255.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression5.in&quot;,x=355.0,y=265.0}, tail={id=&quot;AddSubtract.output&quot;,x=230.0,y=265.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation9" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression4.in2&quot;,x=500.0,y=255.0}, tail={id=&quot;Expression5.output&quot;,x=355.0,y=265.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression6.in&quot;,x=635.0,y=255.0}, tail={id=&quot;Expression4.output&quot;,x=500.0,y=255.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation10" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;pitch._location&quot;,x=725.0,y=255.0}, tail={id=&quot;Expression6.output&quot;,x=635.0,y=255.0}, points={} } }">
                </property>
            </relation>
            <link port="acc_x" relation="relation5"/>
            <link port="acc_y" relation="relation6"/>
            <link port="acc_z" relation="relation7"/>
            <link port="pitch" relation="relation10"/>
            <link port="Expression.output" relation="relation"/>
            <link port="Expression.in" relation="relation6"/>
            <link port="Expression2.output" relation="relation2"/>
            <link port="Expression2.in" relation="relation7"/>
            <link port="AddSubtract.plus" relation="relation"/>
            <link port="AddSubtract.plus" relation="relation2"/>
            <link port="AddSubtract.output" relation="relation4"/>
            <link port="Expression3.output" relation="relation3"/>
            <link port="Expression3.in" relation="relation5"/>
            <link port="Expression4.output" relation="relation8"/>
            <link port="Expression4.in" relation="relation3"/>
            <link port="Expression4.in2" relation="relation9"/>
            <link port="Expression5.output" relation="relation9"/>
            <link port="Expression5.in" relation="relation4"/>
            <link port="Expression6.output" relation="relation10"/>
            <link port="Expression6.in" relation="relation8"/>
        </entity>
        <entity name="CompositeActor" class="ptolemy.actor.TypedCompositeActor">
            <property name="_location" class="ptolemy.kernel.util.Location" value="[275.0, 105.0]">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={511, 784, 939, 656}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6400000000000001">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{588.1305147058823, 193.58049938725495}">
            </property>
            <port name="pitch" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{580.0, -10.0}">
                </property>
            </port>
            <port name="gyro_y" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{5.0, 50.0}">
                </property>
            </port>
            <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{1085.0, 5.0}">
                </property>
            </port>
            <entity name="gyro_angle_change" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="in * (1/signalFrequency)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{140.0, 50.0}">
                </property>
                <port name="in" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                </port>
            </entity>
            <entity name="angle_pitch2" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="alpha * (angle_pitch + gyro_angle_change)">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{460.0, 60.0}">
                </property>
                <port name="gyro_angle_change" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
                <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="Expression" class="ptolemy.actor.lib.Expression">
                <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(1.0 - alpha) * pitch">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                    </property>
                    <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{715.0, -10.0}">
                </property>
                <port name="pitch" class="ptolemy.actor.TypedIOPort">
                    <property name="input"/>
                    <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                    </property>
                </port>
            </entity>
            <entity name="AddSubtract" class="ptolemy.actor.lib.AddSubtract">
                <property name="_location" class="ptolemy.kernel.util.Location" value="{860.0, 5.0}">
                </property>
            </entity>
            <entity name="SampleDelay" class="ptolemy.domains.sdf.lib.SampleDelay">
                <property name="initialOutputs" class="ptolemy.data.expr.Parameter" value="{0.0}">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="20">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                    <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="initialOutputs">
                    </property>
                    <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="displayWidth">
                    </property>
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{855.0, 60.0}">
                </property>
            </entity>
            <entity name="MovingAverage" class="ptolemy.actor.lib.MovingAverage">
                <property name="maxPastInputsToAverage" class="ptolemy.data.expr.Parameter" value="window_size">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{990.0, 5.0}">
                </property>
            </entity>
            <relation name="relation3" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;gyro_angle_change.output&quot;,x=140.0,y=50.0}, tail={id=&quot;angle_pitch2.gyro_angle_change&quot;,x=460.0,y=60.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=715.0,y=-10.0}, tail={id=&quot;AddSubtract.plus&quot;,x=860.0,y=5.0,index=2}, points={} } }">
                </property>
            </relation>
            <relation name="relation6" class="ptolemy.actor.TypedIORelation">
                <vertex name="vertex1" value="{805.0, 60.0}">
                </vertex>
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;SampleDelay.input&quot;,x=855.0,y=60.0}, tail={id=&quot;relation6.vertex1&quot;,x=805.0,y=60.0}, points={} },{ head={id=&quot;AddSubtract.plus&quot;,x=860.0,y=5.0,index=2}, tail={id=&quot;relation6.vertex1&quot;,x=805.0,y=60.0}, points={805.0,-5.0} },{ head={id=&quot;angle_pitch2.output&quot;,x=460.0,y=60.0}, tail={id=&quot;relation6.vertex1&quot;,x=805.0,y=60.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation7" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;angle_pitch2.angle_pitch&quot;,x=460.0,y=60.0}, tail={id=&quot;SampleDelay.output&quot;,x=855.0,y=60.0}, points={240.0,70.0,240.0,85.0,930.0,85.0,930.0,60.0} } }">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;gyro_y._location&quot;,x=5.0,y=50.0}, tail={id=&quot;gyro_angle_change.in&quot;,x=140.0,y=50.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;pitch._location&quot;,x=580.0,y=-10.0}, tail={id=&quot;Expression.pitch&quot;,x=715.0,y=-10.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;MovingAverage.input&quot;,x=990.0,y=5.0}, tail={id=&quot;AddSubtract.output&quot;,x=860.0,y=5.0}, points={} } }">
                </property>
            </relation>
            <relation name="relation8" class="ptolemy.actor.TypedIORelation">
                <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;angle_pitch._location&quot;,x=1085.0,y=5.0}, tail={id=&quot;MovingAverage.output&quot;,x=990.0,y=5.0}, points={} } }">
                </property>
            </relation>
            <link port="pitch" relation="relation"/>
            <link port="gyro_y" relation="relation2"/>
            <link port="angle_pitch" relation="relation8"/>
            <link port="gyro_angle_change.output" relation="relation3"/>
            <link port="gyro_angle_change.in" relation="relation2"/>
            <link port="angle_pitch2.output" relation="relation6"/>
            <link port="angle_pitch2.gyro_angle_change" relation="relation3"/>
            <link port="angle_pitch2.angle_pitch" relation="relation7"/>
            <link port="Expression.output" relation="relation4"/>
            <link port="Expression.pitch" relation="relation"/>
            <link port="AddSubtract.plus" relation="relation4"/>
            <link port="AddSubtract.plus" relation="relation6"/>
            <link port="AddSubtract.output" relation="relation5"/>
            <link port="SampleDelay.input" relation="relation6"/>
            <link port="SampleDelay.output" relation="relation7"/>
            <link port="MovingAverage.input" relation="relation5"/>
            <link port="MovingAverage.output" relation="relation8"/>
        </entity>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;PitchComputer.acc_x&quot;,x=115.0,y=95.0}, tail={id=&quot;acc_x._location&quot;,x=5.0,y=40.0}, points={35.0,85.0,35.0,40.0} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;PitchComputer.acc_y&quot;,x=115.0,y=95.0}, tail={id=&quot;acc_y._location&quot;,x=5.0,y=95.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;PitchComputer.acc_z&quot;,x=115.0,y=95.0}, tail={id=&quot;acc_z._location&quot;,x=5.0,y=150.0}, points={35.0,105.0,35.0,150.0} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;CompositeActor.pitch&quot;,x=275.0,y=105.0}, tail={id=&quot;PitchComputer.pitch&quot;,x=115.0,y=95.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;CompositeActor.gyro_y&quot;,x=275.0,y=105.0}, tail={id=&quot;gyro_y._location&quot;,x=145.0,y=150.0}, points={190.0,115.0,190.0,150.0} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;angle_pitch._location&quot;,x=395.0,y=105.0}, tail={id=&quot;CompositeActor.angle_pitch&quot;,x=275.0,y=105.0}, points={} } }">
            </property>
        </relation>
        <link port="acc_x" relation="relation"/>
        <link port="acc_y" relation="relation2"/>
        <link port="acc_z" relation="relation3"/>
        <link port="gyro_y" relation="relation5"/>
        <link port="angle_pitch" relation="relation6"/>
        <link port="PitchComputer.acc_x" relation="relation"/>
        <link port="PitchComputer.acc_y" relation="relation2"/>
        <link port="PitchComputer.acc_z" relation="relation3"/>
        <link port="PitchComputer.pitch" relation="relation4"/>
        <link port="CompositeActor.pitch" relation="relation4"/>
        <link port="CompositeActor.gyro_y" relation="relation5"/>
        <link port="CompositeActor.angle_pitch" relation="relation6"/>
    </entity>
    <entity name="AnglePitchPlotter" class="ptolemy.actor.lib.gui.TimedPlotter">
        <property name="legend" class="ptolemy.kernel.util.StringAttribute" value="Angle pitch">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={21, 45, 522, 387}, maximized=false}">
        </property>
        <property name="_plotSize" class="ptolemy.actor.gui.SizeAttribute" value="[500, 300]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{970.0, 135.0}">
        </property>
        <configure>
<?plotml <!DOCTYPE plot PUBLIC "-//UC Berkeley//DTD PlotML 1//EN"
"http://ptolemy.eecs.berkeley.edu/xml/dtd/PlotML_1.dtd">
<plot>
<title>TimedPlotter</title>
<xRange min="0.0" max="30215.0"/>
<yRange min="-0.500460586687474" max="0.9359305536700115"/>
</plot>?>
        </configure>
    </entity>
    <entity name="LabelDisplay2" class="ptolemy.actor.lib.gui.Display">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={63, 818, 374, 273}, maximized=false}">
        </property>
        <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[352, 186]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1390.0, 305.0}">
        </property>
    </entity>
    <entity name="DiscreteClock" class="ptolemy.actor.lib.DiscreteClock">
        <doc>Create periodic timed events.</doc>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{55.0, 205.0}">
        </property>
    </entity>
    <entity name="emergencyDelay" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1400.0, 240.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={445, 393, 1098, 765}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[859, 619]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0136405695012425">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{319.0, -350.99999999999994}">
        </property>
        <property name="emergencyDelay" class="ptolemy.data.expr.Parameter" value="5000">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{-55.0, -585.0}">
            </property>
        </property>
        <port name="activity" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{800.0, -385.0}">
            </property>
        </port>
        <entity name="FSMActor" class="ptolemy.domains.modal.kernel.FSMActor">
            <property name="_library" class="ptolemy.moml.LibraryAttribute">
                <configure>
    <entity name="StateLibrary" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="State" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity>
  </configure>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{935.0, -325.0}">
            </property>
            <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={609, 143, 939, 656}, maximized=false}">
            </property>
            <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
            </property>
            <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
            </property>
            <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{454.8318008722043, 274.81528906728704}">
            </property>
            <property name="emergencyDelay" class="ptolemy.data.expr.Parameter" value="250">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{100, 115}">
                </property>
            </property>
            <property name="emergencyTimer" class="ptolemy.data.expr.Parameter" value="1">
                <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
                </property>
                <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                    <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                    </property>
                </property>
                <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                    <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
                </property>
                <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[100.0, 90.0]">
                </property>
            </property>
            <port name="activity" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[25.0, 245.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="userInput" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[20.0, 295.0]">
                </property>
            </port>
            <port name="alarm" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[740.0, 275.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="emergency" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[740.0, 410.0]">
                </property>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <entity name="Running" class="ptolemy.domains.modal.kernel.State">
                <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
                </property>
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[255.0, 230.0]">
                </property>
            </entity>
            <entity name="Alarm" class="ptolemy.domains.modal.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[485.0, 225.0]">
                </property>
            </entity>
            <entity name="Emergency" class="ptolemy.domains.modal.kernel.State">
                <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
                <property name="_location" class="ptolemy.kernel.util.Location" value="[398.01036400359794, 462.39554175790585]">
                </property>
            </entity>
            <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="activity == &quot;fall&quot;">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="alarm = true">
                </property>
                <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.04204360253273515">
                </property>
            </relation>
            <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="userInput == &quot;safe&quot;">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.0593887493374115">
                </property>
            </relation>
            <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="userInput == &quot;fall&quot;">
                </property>
                <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="emergency = true">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.6312523745861871">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.869514880993457">
                </property>
            </relation>
            <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
                <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="userInput == &quot;safe&quot;">
                </property>
                <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="-0.9527770445472343">
                </property>
                <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.671103652763664">
                </property>
            </relation>
            <link port="Running.incomingPort" relation="relation2"/>
            <link port="Running.incomingPort" relation="relation5"/>
            <link port="Running.outgoingPort" relation="relation"/>
            <link port="Alarm.incomingPort" relation="relation"/>
            <link port="Alarm.outgoingPort" relation="relation2"/>
            <link port="Alarm.outgoingPort" relation="relation4"/>
            <link port="Emergency.incomingPort" relation="relation4"/>
            <link port="Emergency.outgoingPort" relation="relation5"/>
        </entity>
        <entity name="WarningMessage" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="&quot;?WARNING?\nFALL DETECTED\nAre you okay? [y/N]&quot;">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, -315.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="TimeDelay" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="1/signalFrequency">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{785.0, -315.0}">
            </property>
        </entity>
        <entity name="Expression4" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="in == &quot;y&quot;? &quot;safe&quot;:&quot;fall&quot;">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{605.0, -315.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="Expression" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="&quot;EMERGENCY\nPress any button&quot;">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1165.0, -315.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="ThreadedComposite2" class="ptolemy.actor.lib.hoc.ThreadedComposite">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="UNDEFINED">
            </property>
            <doc>Execute the contained model in a separate thread with optional real-time properties.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.CopyCatIcon">
                <property name="echos" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="echoBoxColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 1.0, 0.0, 1.0}">
                </property>
            </property>
            <property name="_configurer" class="ptolemy.actor.gui.EditorPaneFactory">
            </property>
            <property name="_configurer2" class="ptolemy.actor.gui.InsideEntityEditorPaneFactory">
            </property>
            <property name="_tableauFactory" class="ptolemy.actor.gui.LevelSkippingTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{395.0, -315.0}">
            </property>
            <port name="input" class="ptolemy.actor.lib.hoc.MirrorPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.lib.hoc.MirrorPort">
                <property name="output"/>
            </port>
            <entity name="InteractiveShell" class="ptolemy.actor.lib.gui.InteractiveShell">
                <property name="prompt" class="ptolemy.actor.parameters.PortParameter" value="&gt;&gt; ">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={458, 750, 670, 521}, maximized=false}">
                </property>
                <doc>Produce strings from an interactive shell on the screen</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{220, 145}">
                </property>
            </entity>
        </entity>
        <entity name="ThreadedComposite" class="ptolemy.actor.lib.hoc.ThreadedComposite">
            <property name="delay" class="ptolemy.data.expr.Parameter" value="UNDEFINED">
            </property>
            <doc>Execute the contained model in a separate thread with optional real-time properties.</doc>
            <property name="_icon" class="ptolemy.vergil.icon.CopyCatIcon">
                <property name="echos" class="ptolemy.data.expr.Parameter" value="1">
                </property>
                <property name="echoBoxColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 1.0, 0.0, 1.0}">
                </property>
            </property>
            <property name="_configurer" class="ptolemy.actor.gui.EditorPaneFactory">
            </property>
            <property name="_configurer2" class="ptolemy.actor.gui.InsideEntityEditorPaneFactory">
            </property>
            <property name="_tableauFactory" class="ptolemy.actor.gui.LevelSkippingTableauFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{400.0, -515.0}">
            </property>
            <port name="input" class="ptolemy.actor.lib.hoc.MirrorPort">
                <property name="input"/>
            </port>
            <port name="output" class="ptolemy.actor.lib.hoc.MirrorPort">
                <property name="output"/>
            </port>
            <entity name="InteractiveShell" class="ptolemy.actor.lib.gui.InteractiveShell">
                <property name="prompt" class="ptolemy.actor.parameters.PortParameter" value="&gt;&gt; ">
                </property>
                <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1144, 752, 670, 521}, maximized=false}">
                </property>
                <doc>Produce strings from an interactive shell on the screen</doc>
                <property name="_location" class="ptolemy.kernel.util.Location" value="{220, 145}">
                </property>
            </entity>
        </entity>
        <entity name="Expression2" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="&quot;safe&quot;">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{595.0, -445.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <entity name="TimeDelay2" class="ptolemy.actor.lib.TimeDelay">
            <property name="delay" class="ptolemy.actor.parameters.PortParameter" value="emergencyDelay">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{150.0, -395.0}">
            </property>
        </entity>
        <entity name="Expression3" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="&quot;fall&quot;">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{595.0, -395.0}">
            </property>
            <port name="in" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
            </port>
        </entity>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;activity._location&quot;,x=800.0,y=-385.0}, tail={id=&quot;FSMActor.activity&quot;,x=935.0,y=-325.0}, points={845.0,-385.0,845.0,-335.0} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;FSMActor.emergency&quot;,x=935.0,y=-325.0}, tail={id=&quot;Expression.in&quot;,x=1165.0,y=-315.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;FSMActor.userInput&quot;,x=935.0,y=-325.0}, tail={id=&quot;TimeDelay.output&quot;,x=785.0,y=-315.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation9" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression4.in&quot;,x=605.0,y=-315.0}, tail={id=&quot;ThreadedComposite2.output&quot;,x=395.0,y=-315.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="{710.0, -315.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression4.output&quot;,x=605.0,y=-315.0}, tail={id=&quot;relation5.vertex1&quot;,x=710.0,y=-315.0}, points={} },{ head={id=&quot;TimeDelay.input&quot;,x=785.0,y=-315.0}, tail={id=&quot;relation5.vertex1&quot;,x=710.0,y=-315.0}, points={} },{ head={id=&quot;Expression2.output&quot;,x=595.0,y=-445.0}, tail={id=&quot;relation5.vertex1&quot;,x=710.0,y=-315.0}, points={695.0,-445.0,695.0,-315.0} },{ head={id=&quot;relation5.vertex1&quot;,x=710.0,y=-315.0}, tail={id=&quot;Expression3.output&quot;,x=595.0,y=-395.0}, points={695.0,-315.0,695.0,-395.0} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression.output&quot;,x=1165.0,y=-315.0}, tail={id=&quot;ThreadedComposite.input&quot;,x=400.0,y=-515.0}, points={1295.0,-315.0,1295.0,-565.0,335.0,-565.0,335.0,-515.0} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;ThreadedComposite.output&quot;,x=400.0,y=-515.0}, tail={id=&quot;Expression2.in&quot;,x=595.0,y=-445.0}, points={510.0,-515.0,510.0,-445.0} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;WarningMessage.output&quot;,x=150.0,y=-315.0}, tail={id=&quot;ThreadedComposite2.input&quot;,x=395.0,y=-315.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="{-35.0, -395.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;relation2.vertex1&quot;,x=-35.0,y=-395.0}, tail={id=&quot;FSMActor.alarm&quot;,x=935.0,y=-325.0}, points={-35.0,-475.0,1035.0,-475.0,1035.0,-335.0} },{ head={id=&quot;TimeDelay2.input&quot;,x=150.0,y=-395.0}, tail={id=&quot;relation2.vertex1&quot;,x=-35.0,y=-395.0}, points={} },{ head={id=&quot;WarningMessage.in&quot;,x=150.0,y=-315.0}, tail={id=&quot;relation2.vertex1&quot;,x=-35.0,y=-395.0}, points={-35.0,-315.0} } }">
            </property>
        </relation>
        <relation name="relation10" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;Expression3.in&quot;,x=595.0,y=-395.0}, tail={id=&quot;TimeDelay2.output&quot;,x=150.0,y=-395.0}, points={} } }">
            </property>
        </relation>
        <link port="activity" relation="relation4"/>
        <link port="FSMActor.activity" relation="relation4"/>
        <link port="FSMActor.userInput" relation="relation3"/>
        <link port="FSMActor.alarm" relation="relation2"/>
        <link port="FSMActor.emergency" relation="relation7"/>
        <link port="WarningMessage.output" relation="relation"/>
        <link port="WarningMessage.in" relation="relation2"/>
        <link port="TimeDelay.input" relation="relation5"/>
        <link port="TimeDelay.output" relation="relation3"/>
        <link port="Expression4.output" relation="relation5"/>
        <link port="Expression4.in" relation="relation9"/>
        <link port="Expression.output" relation="relation6"/>
        <link port="Expression.in" relation="relation7"/>
        <link port="ThreadedComposite2.input" relation="relation"/>
        <link port="ThreadedComposite2.output" relation="relation9"/>
        <link port="ThreadedComposite.input" relation="relation6"/>
        <link port="ThreadedComposite.output" relation="relation8"/>
        <link port="Expression2.output" relation="relation5"/>
        <link port="Expression2.in" relation="relation8"/>
        <link port="TimeDelay2.input" relation="relation2"/>
        <link port="TimeDelay2.output" relation="relation10"/>
        <link port="Expression3.output" relation="relation5"/>
        <link port="Expression3.in" relation="relation10"/>
    </entity>
    <entity name="ActivityDetectionFSM" class="ptolemy.domains.modal.kernel.FSMActor">
        <property name="_library" class="ptolemy.moml.LibraryAttribute">
            <configure>
    <entity name="StateLibrary" class="ptolemy.kernel.CompositeEntity"><input source="ptolemy/configs/basicUtilities.xml"></input><entity name="State" class="ptolemy.domains.modal.kernel.State"><property name="_centerName" class="ptolemy.kernel.util.Attribute"></property></entity></entity>
  </configure>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1205.0, 240.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={610, 392, 939, 656}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.8000000000000007">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{620.5784119250728, 490.02510833740234}">
        </property>
        <property name="confirmationTimeout" class="ptolemy.data.expr.Parameter" value="5">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{230.0, 20.0}">
            </property>
        </property>
        <property name="fallDetectTimer" class="ptolemy.data.expr.Parameter" value="5">
            <property name="_hideName" class="ptolemy.kernel.util.SingletonAttribute">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.ValueIcon">
                <property name="_color" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 1.0, 1.0}">
                </property>
            </property>
            <property name="_smallIconDescription" class="ptolemy.kernel.util.SingletonConfigurableAttribute">
                <configure>
      <svg>
        <text x="20" style="font-size:14; font-family:SansSerif; fill:blue" y="20">-P-</text>
      </svg>
    </configure>
            </property>
            <property name="_editorFactory" class="ptolemy.vergil.toolbox.VisibleParameterEditorFactory">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{115.0, 20.0}">
            </property>
        </property>
        <port name="isWalking" class="ptolemy.domains.modal.modal.RefinementPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 190.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
            </property>
        </port>
        <port name="isJogging" class="ptolemy.domains.modal.modal.RefinementPort">
            <property name="input"/>
            <property name="defaultValue" class="ptolemy.data.expr.Parameter" value="">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 260.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
            </property>
        </port>
        <port name="activity" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{1270.0, 260.0}">
            </property>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="isFall" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 325.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
            </property>
        </port>
        <entity name="walking" class="ptolemy.domains.modal.kernel.State">
            <property name="isInitialState" class="ptolemy.data.expr.Parameter" value="true">
            </property>
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{645.0, 70.0}">
            </property>
        </entity>
        <entity name="jogging" class="ptolemy.domains.modal.kernel.State">
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{540.0, 465.0}">
            </property>
        </entity>
        <entity name="fall" class="ptolemy.domains.modal.kernel.State">
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{955.0, 335.0}">
            </property>
        </entity>
        <entity name="prefall" class="ptolemy.domains.modal.kernel.State">
            <property name="_hideName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{715.0, 210.0}">
            </property>
        </entity>
        <relation name="relation" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isJogging">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;walking to jogging&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.015654785739889654">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.6658852663987522">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;jogging._location&quot;,x=540.0,y=465.0}, tail={id=&quot;walking._location&quot;,x=645.0,y=70.0}, points={530.65625,448.3229064941406,530.65625,450.8229064941406,530.65625,447.90625,530.65625,444.9895935058594,530.65625,436.65625,494.3515625,432.4895935058594,458.046875,428.3229064941406,385.4375,428.3229064941406,349.1328125,424.15625,312.828125,419.9895935058594,312.828125,411.65625,312.828125,403.5859375,312.828125,395.515625,312.828125,387.7083435058594,312.828125,379.9010314941406,312.828125,372.09375,312.828125,364.2864685058594,312.828125,350.2161560058594,312.828125,336.1458435058594,312.828125,315.8125,312.828125,300.8984375,312.828125,285.984375,312.828125,276.4895935058594,312.828125,266.9947814941406,312.828125,257.5,312.828125,248.0052032470703,312.828125,230.98004150390625,312.828125,213.95486450195312,312.828125,189.39930725097656,312.828125,174.46788024902344,312.828125,159.5364532470703,312.828125,154.2291717529297,312.828125,148.921875,312.828125,143.6145782470703,312.828125,138.3072967529297,312.828125,131.4869842529297,312.828125,124.66666412353516,312.828125,116.33333587646484,366.3220520019531,112.16666412353516,419.81597900390625,108.0,526.8038330078125,108.0,580.2977600097656,103.83333587646484,633.7916870117188,99.66666412353516,633.7916870117188,91.33333587646484,633.7916870117188,88.41666412353516,633.7916870117188,85.5,633.7916870117188,88.0}, labelLocation={x=316.828125,y=263.5729064941406} } }">
            </property>
        </relation>
        <relation name="relation2" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isWalking">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;jogging to walking&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.6840551522727183">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;walking._location&quot;,x=645.0,y=70.0}, tail={id=&quot;jogging._location&quot;,x=540.0,y=465.0}, points={622.4583740234375,88.0,622.4583740234375,85.5,622.4583740234375,87.16666412353516,622.4583740234375,88.83333587646484,622.4583740234375,94.66666412353516,537.0616455078125,97.58333587646484,451.6649475097656,100.5,280.8715362548828,100.5,195.4748306274414,105.91666412353516,110.078125,111.33333587646484,110.078125,122.16666412353516,110.078125,130.2369842529297,110.078125,138.3072967529297,110.078125,143.6145782470703,110.078125,148.921875,110.078125,154.2291717529297,110.078125,159.5364532470703,110.078125,174.46788024902344,110.078125,189.39930725097656,110.078125,213.95486450195312,110.078125,230.98004150390625,110.078125,248.0052032470703,110.078125,257.5,110.078125,266.9947814941406,110.078125,276.4895935058594,110.078125,285.984375,110.078125,300.8984375,110.078125,315.8125,110.078125,336.1458435058594,110.078125,350.2161560058594,110.078125,364.2864685058594,110.078125,372.09375,110.078125,379.9010314941406,110.078125,387.7083435058594,110.078125,395.515625,110.078125,404.8359375,110.078125,414.15625,110.078125,424.9895935058594,178.34114837646484,430.40625,246.6041717529297,435.8229064941406,383.1302185058594,435.8229064941406,451.3932189941406,438.7395935058594,519.65625,441.65625,519.65625,447.4895935058594,519.65625,449.15625,519.65625,450.8229064941406,519.65625,448.3229064941406}, labelLocation={x=114.078125,y=198.2552032470703} } }">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isWalking">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;fall to walking&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.011270297306885262">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.6278766957199438">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;walking._location&quot;,x=645.0,y=70.0}, tail={id=&quot;fall._location&quot;,x=955.0,y=335.0}, points={667.7916870117188,88.0,667.7916870117188,85.5,667.7916870117188,87.16666412353516,667.7916870117188,88.83333587646484,667.7916870117188,94.66666412353516,732.2274169921875,97.58333587646484,796.6632080078125,100.5,925.5347290039062,100.5,989.970458984375,105.91666412353516,1054.40625,111.33333587646484,1054.40625,122.16666412353516,1054.40625,130.2369842529297,1054.40625,138.3072967529297,1054.40625,143.6145782470703,1054.40625,148.921875,1054.40625,154.2291717529297,1054.40625,159.5364532470703,1054.40625,174.46788024902344,1054.40625,189.39930725097656,1054.40625,213.95486450195312,1054.40625,230.14669799804688,1054.40625,246.3385467529297,1054.40625,254.1666717529297,1054.40625,261.9947814941406,1054.40625,269.8229064941406,1054.40625,277.6510314941406,1054.40625,284.4817810058594,1054.40625,291.3125,1054.40625,297.1458435058594,1038.7213745117188,300.0625,1023.0364379882812,302.9791564941406,991.6666870117188,302.9791564941406,975.9817504882812,305.8958435058594,960.296875,308.8125,960.296875,314.6458435058594,960.296875,316.3125,960.296875,317.9791564941406,960.296875,315.4791564941406}, labelLocation={x=1058.40625,y=198.2552032470703} } }">
            </property>
        </relation>
        <relation name="relation7" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isJogging">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;fall to jogging&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-0.03318878600630095">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;jogging._location&quot;,x=540.0,y=465.0}, tail={id=&quot;fall._location&quot;,x=955.0,y=335.0}, points={563.65625,448.3229064941406,563.65625,450.8229064941406,563.65625,447.90625,563.65625,444.9895935058594,563.65625,436.65625,628.7630004882812,432.4895935058594,693.8698120117188,428.3229064941406,824.0833129882812,428.3229064941406,889.1901245117188,424.15625,954.296875,419.9895935058594,954.296875,411.65625,954.296875,403.5859375,954.296875,395.515625,954.296875,387.7083435058594,954.296875,379.9010314941406,954.296875,372.09375,954.296875,364.2864685058594,954.296875,359.1328125,954.296875,353.9791564941406,954.296875,351.4791564941406}, labelLocation={x=958.296875,y=381.4791564941406} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isFall">
            </property>
            <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="fallDetectTimer = 1">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="3.141592653589793">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;prefall._location&quot;,x=715.0,y=210.0}, tail={id=&quot;walking._location&quot;,x=645.0,y=70.0}, points={703.9948120117188,189.84375,703.9948120117188,189.84375,703.9948120117188,186.9270782470703,703.9948120117188,184.0104217529297,703.9948120117188,178.1770782470703,684.3715209960938,175.2604217529297,664.748291015625,172.34375,625.5017700195312,172.34375,605.8784790039062,169.4270782470703,586.2552185058594,166.5104217529297,586.2552185058594,160.6770782470703,586.2552185058594,155.9401092529297,586.2552185058594,151.203125,586.2552185058594,147.5625,586.2552185058594,143.921875,586.2552185058594,140.28125,586.2552185058594,136.640625,586.2552185058594,131.9036407470703,586.2552185058594,127.16666412353516,586.2552185058594,121.33333587646484,596.0668640136719,118.41666412353516,605.8784790039062,115.5,625.5017700195312,115.5,635.3133544921875,110.08333587646484,645.125,104.66666412353516,645.125,93.83333587646484,645.125,89.66666412353516,645.125,85.5,645.125,88.0}, labelLocation={x=590.2552185058594,y=133.9921875} } }">
            </property>
        </relation>
        <relation name="relation8" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="fallDetectTimer == confirmationTimeout">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;fall&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.094364606586371">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;fall._location&quot;,x=955.0,y=335.0}, tail={id=&quot;prefall._location&quot;,x=715.0,y=210.0}, points={948.296875,315.4791564941406,948.296875,317.9791564941406,948.296875,316.3125,948.296875,314.6458435058594,948.296875,308.8125,923.9192504882812,305.8958435058594,899.5416870117188,302.9791564941406,850.7864990234375,302.9791564941406,826.4088745117188,300.0625,802.03125,297.1458435058594,802.03125,291.3125,802.03125,286.5650939941406,802.03125,281.8177185058594,802.03125,278.15625,802.03125,274.4947814941406,802.03125,270.8333435058594,802.03125,267.171875,802.03125,262.4244689941406,802.03125,257.6770935058594,802.03125,251.84375,789.5807495117188,248.9270782470703,777.1302490234375,246.0104217529297,752.2291870117188,246.0104217529297,739.7786865234375,243.09375,727.328125,240.1770782470703,727.328125,234.34375,727.328125,231.4270782470703,727.328125,228.5104217529297,727.328125,228.5104217529297}, labelLocation={x=806.03125,y=263.5104064941406} } }">
            </property>
        </relation>
        <relation name="relation9" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isFall">
            </property>
            <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="fallDetectTimer = fallDetectTimer + 1">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="2.966022118929854">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="1.6353330785034323">
            </property>
            <property name="immediate" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="error" class="ptolemy.data.expr.Parameter" value="false">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;prefall._location&quot;,x=715.0,y=210.0}, tail={id=&quot;prefall._location&quot;,x=715.0,y=210.0}, points={670.328125,204.84375,668.1614990234375,207.0104217529297,668.1614990234375,209.1770782470703,668.1614990234375,211.34375,670.328125,213.5104217529297}, labelLocation={x=473.7552185058594,y=199.2473907470703} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isFall">
            </property>
            <property name="setActions" class="ptolemy.domains.modal.kernel.CommitActionsAttribute" value="fallDetectTimer = 1">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-2.8925700523103335">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;prefall._location&quot;,x=715.0,y=210.0}, tail={id=&quot;jogging._location&quot;,x=540.0,y=465.0}, points={713.328125,228.5104217529297,713.328125,233.5104217529297,713.328125,240.7578125,713.328125,248.0052032470703,713.328125,257.5,713.328125,266.9947814941406,713.328125,276.4895935058594,713.328125,285.984375,713.328125,300.8984375,713.328125,315.8125,713.328125,336.1458435058594,713.328125,350.2161560058594,713.328125,364.2864685058594,713.328125,372.09375,713.328125,379.9010314941406,713.328125,387.7083435058594,713.328125,395.515625,713.328125,402.3359375,713.328125,409.15625,713.328125,414.9895935058594,686.5494995117188,417.90625,659.7708740234375,420.8229064941406,606.2135620117188,420.8229064941406,579.4349060058594,426.2395935058594,552.65625,431.65625,552.65625,442.4895935058594,552.65625,446.65625,552.65625,450.8229064941406,552.65625,448.3229064941406}, labelLocation={x=717.328125,y=323.5494689941406} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isWalking">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;prefall to walk&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="-1.0087243764912097">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;walking._location&quot;,x=645.0,y=70.0}, tail={id=&quot;prefall._location&quot;,x=715.0,y=210.0}, points={656.4583740234375,88.0,656.4583740234375,85.5,656.4583740234375,88.41666412353516,656.4583740234375,91.33333587646484,656.4583740234375,99.66666412353516,667.4921875,103.83333587646484,678.5260620117188,108.0,700.59375,108.0,711.6276245117188,112.16666412353516,722.6614990234375,116.33333587646484,722.6614990234375,124.66666412353516,722.6614990234375,131.4869842529297,722.6614990234375,138.3072967529297,722.6614990234375,143.6145782470703,722.6614990234375,148.921875,722.6614990234375,154.2291717529297,722.6614990234375,159.5364532470703,722.6614990234375,168.4401092529297,722.6614990234375,177.34375,722.6614990234375,189.84375}, labelLocation={x=726.6614990234375,y=133.0} } }">
            </property>
        </relation>
        <relation name="relation10" class="ptolemy.domains.modal.kernel.Transition">
            <property name="guardExpression" class="ptolemy.kernel.util.StringAttribute" value="isJogging">
            </property>
            <property name="outputActions" class="ptolemy.domains.modal.kernel.OutputActionsAttribute" value="activity = &quot;prefall to jogging&quot;">
            </property>
            <property name="exitAngle" class="ptolemy.data.expr.Parameter" value="0.6283185307179586">
            </property>
            <property name="gamma" class="ptolemy.data.expr.Parameter" value="0.2005103663176556">
            </property>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;jogging._location&quot;,x=540.0,y=465.0}, tail={id=&quot;prefall._location&quot;,x=715.0,y=210.0}, points={541.65625,448.3229064941406,541.65625,450.8229064941406,541.65625,446.65625,541.65625,442.4895935058594,541.65625,431.65625,537.3099060058594,426.2395935058594,532.9635314941406,420.8229064941406,524.2708435058594,420.8229064941406,519.9244689941406,417.90625,515.578125,414.9895935058594,515.578125,409.15625,515.578125,402.3359375,515.578125,395.515625,515.578125,387.7083435058594,515.578125,379.9010314941406,515.578125,372.09375,515.578125,364.2864685058594,515.578125,350.2161560058594,515.578125,336.1458435058594,515.578125,315.8125,515.578125,302.9817810058594,515.578125,290.1510314941406,515.578125,284.8229064941406,515.578125,279.4947814941406,515.578125,274.1666564941406,515.578125,268.8385314941406,515.578125,263.2578125,515.578125,257.6770935058594,515.578125,251.84375,546.203125,248.9270782470703,576.828125,246.0104217529297,638.078125,246.0104217529297,668.703125,243.09375,699.328125,240.1770782470703,699.328125,234.34375,699.328125,231.4270782470703,699.328125,228.5104217529297,699.328125,228.5104217529297}, labelLocation={x=519.578125,y=322.5572814941406} } }">
            </property>
        </relation>
        <link port="walking.incomingPort" relation="relation2"/>
        <link port="walking.incomingPort" relation="relation5"/>
        <link port="walking.incomingPort" relation="relation4"/>
        <link port="walking.outgoingPort" relation="relation"/>
        <link port="walking.outgoingPort" relation="relation6"/>
        <link port="jogging.incomingPort" relation="relation"/>
        <link port="jogging.incomingPort" relation="relation7"/>
        <link port="jogging.incomingPort" relation="relation10"/>
        <link port="jogging.outgoingPort" relation="relation2"/>
        <link port="jogging.outgoingPort" relation="relation3"/>
        <link port="fall.incomingPort" relation="relation8"/>
        <link port="fall.outgoingPort" relation="relation5"/>
        <link port="fall.outgoingPort" relation="relation7"/>
        <link port="prefall.incomingPort" relation="relation6"/>
        <link port="prefall.incomingPort" relation="relation9"/>
        <link port="prefall.incomingPort" relation="relation3"/>
        <link port="prefall.outgoingPort" relation="relation8"/>
        <link port="prefall.outgoingPort" relation="relation9"/>
        <link port="prefall.outgoingPort" relation="relation4"/>
        <link port="prefall.outgoingPort" relation="relation10"/>
    </entity>
    <entity name="label" class="ptolemy.actor.lib.RecordDisassembler">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{445.0, 185.0}">
        </property>
        <port name="label" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
    </entity>
    <entity name="LabelDisplay" class="ptolemy.actor.lib.gui.Display">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={50, 500, 374, 273}, maximized=false}">
        </property>
        <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[352, 186]">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{575.0, 205.0}">
        </property>
    </entity>
    <entity name="GuardsCalculator" class="ptolemy.actor.TypedCompositeActor">
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1020.0, 240.0}">
        </property>
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={185, 332, 939, 656}, maximized=false}">
        </property>
        <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[700, 510]">
        </property>
        <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="1.0">
        </property>
        <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{347.0, 420.875}">
        </property>
        <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 200.0}">
            </property>
        </port>
        <port name="acceleration" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{20.0, 255.0}">
            </property>
        </port>
        <port name="rotationrate" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{25.0, 310.0}">
            </property>
        </port>
        <port name="isWalking" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{605.0, 220.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
            </property>
        </port>
        <port name="isJogging" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{605.0, 275.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
            </property>
        </port>
        <port name="isFall" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{605.0, 330.0}">
            </property>
            <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
            </property>
        </port>
        <entity name="isWalking" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="(angle_pitch &gt; 423.81 &amp;&amp; angle_pitch &lt;= 467.97 &amp;&amp; rotationrate &lt;= 2.84) || (angle_pitch &gt; 423.81 &amp;&amp; angle_pitch &gt; 467.97)">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 240.0}">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
                </property>
            </port>
            <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="acceleration" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="rotationrate" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="isJogging" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="angle_pitch &lt;= 423.81 &amp;&amp; angle_pitch &lt;= 165.60">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{365.0, 300.0}">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
                </property>
            </port>
            <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="acceleration" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="rotationrate" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <entity name="isFall" class="ptolemy.actor.lib.Expression">
            <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="angle_pitch &lt;= 423.81 &amp;&amp; angle_pitch &gt; 165.60 || angle_pitch &gt; 423.81 &amp;&amp; angle_pitch &lt;= 467.97 &amp;&amp; rotationrate &gt; 2.84">
            </property>
            <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
                <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
                </property>
                <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
                </property>
                <property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10">
                </property>
            </property>
            <property name="_location" class="ptolemy.kernel.util.Location" value="{385.0, 350.0}">
            </property>
            <port name="output" class="ptolemy.actor.TypedIOPort">
                <property name="output"/>
                <property name="_type" class="ptolemy.actor.TypeAttribute" value="boolean">
                </property>
            </port>
            <port name="angle_pitch" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="acceleration" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
            <port name="rotationrate" class="ptolemy.actor.TypedIOPort">
                <property name="input"/>
                <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
                </property>
            </port>
        </entity>
        <relation name="relation2" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="{115.0, 255.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;acceleration._location&quot;,x=20.0,y=255.0}, tail={id=&quot;relation2.vertex1&quot;,x=115.0,y=255.0}, points={} },{ head={id=&quot;isWalking.acceleration&quot;,x=385.0,y=240.0}, tail={id=&quot;relation2.vertex1&quot;,x=115.0,y=255.0}, points={115.0,240.0} },{ head={id=&quot;isJogging.acceleration&quot;,x=365.0,y=300.0}, tail={id=&quot;relation2.vertex1&quot;,x=115.0,y=255.0}, points={115.0,300.0} },{ head={id=&quot;isFall.acceleration&quot;,x=385.0,y=350.0}, tail={id=&quot;relation2.vertex1&quot;,x=115.0,y=255.0}, points={115.0,350.0} } }">
            </property>
        </relation>
        <relation name="relation3" class="ptolemy.actor.TypedIORelation">
            <vertex name="vertex1" value="{130.0, 310.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;rotationrate._location&quot;,x=25.0,y=310.0}, tail={id=&quot;relation3.vertex1&quot;,x=130.0,y=310.0}, points={} },{ head={id=&quot;isWalking.rotationrate&quot;,x=385.0,y=240.0}, tail={id=&quot;relation3.vertex1&quot;,x=130.0,y=310.0}, points={130.0,250.0} },{ head={id=&quot;isJogging.rotationrate&quot;,x=365.0,y=300.0}, tail={id=&quot;relation3.vertex1&quot;,x=130.0,y=310.0}, points={} },{ head={id=&quot;isFall.rotationrate&quot;,x=385.0,y=350.0}, tail={id=&quot;relation3.vertex1&quot;,x=130.0,y=310.0}, points={130.0,360.0} } }">
            </property>
        </relation>
        <relation name="relation4" class="ptolemy.actor.TypedIORelation">
            <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
            </property>
            <vertex name="vertex1" value="{145.0, 200.0}">
            </vertex>
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;isWalking.angle_pitch&quot;,x=385.0,y=240.0}, tail={id=&quot;relation4.vertex1&quot;,x=145.0,y=200.0}, points={145.0,230.0} },{ head={id=&quot;isJogging.angle_pitch&quot;,x=365.0,y=300.0}, tail={id=&quot;relation4.vertex1&quot;,x=145.0,y=200.0}, points={145.0,290.0} },{ head={id=&quot;angle_pitch._location&quot;,x=25.0,y=200.0}, tail={id=&quot;relation4.vertex1&quot;,x=145.0,y=200.0}, points={} },{ head={id=&quot;isFall.angle_pitch&quot;,x=385.0,y=350.0}, tail={id=&quot;relation4.vertex1&quot;,x=145.0,y=200.0}, points={145.0,340.0} } }">
            </property>
        </relation>
        <relation name="relation" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;isWalking._location&quot;,x=605.0,y=220.0}, tail={id=&quot;isWalking.output&quot;,x=385.0,y=240.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation5" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;isJogging._location&quot;,x=605.0,y=275.0}, tail={id=&quot;isJogging.output&quot;,x=365.0,y=300.0}, points={} } }">
            </property>
        </relation>
        <relation name="relation6" class="ptolemy.actor.TypedIORelation">
            <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;isFall._location&quot;,x=605.0,y=330.0}, tail={id=&quot;isFall.output&quot;,x=385.0,y=350.0}, points={} } }">
            </property>
        </relation>
        <link port="angle_pitch" relation="relation4"/>
        <link port="acceleration" relation="relation2"/>
        <link port="rotationrate" relation="relation3"/>
        <link port="isWalking" relation="relation"/>
        <link port="isJogging" relation="relation5"/>
        <link port="isFall" relation="relation6"/>
        <link port="isWalking.output" relation="relation"/>
        <link port="isWalking.angle_pitch" relation="relation4"/>
        <link port="isWalking.acceleration" relation="relation2"/>
        <link port="isWalking.rotationrate" relation="relation3"/>
        <link port="isJogging.output" relation="relation5"/>
        <link port="isJogging.angle_pitch" relation="relation4"/>
        <link port="isJogging.acceleration" relation="relation2"/>
        <link port="isJogging.rotationrate" relation="relation3"/>
        <link port="isFall.output" relation="relation6"/>
        <link port="isFall.angle_pitch" relation="relation4"/>
        <link port="isFall.acceleration" relation="relation2"/>
        <link port="isFall.rotationrate" relation="relation3"/>
    </entity>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;CSVReader.endOfFile&quot;,x=225.0,y=215.0}, tail={id=&quot;Stop.input&quot;,x=360.0,y=245.0}, points={310.0,225.0,310.0,245.0} } }">
        </property>
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{390.0, 205.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;gyroscope.input&quot;,x=440.0,y=250.0}, tail={id=&quot;relation2.vertex1&quot;,x=390.0,y=205.0}, points={390.0,270.0} },{ head={id=&quot;label.input&quot;,x=445.0,y=185.0}, tail={id=&quot;relation2.vertex1&quot;,x=390.0,y=205.0}, points={} },{ head={id=&quot;accelerometer.input&quot;,x=420.0,y=105.0}, tail={id=&quot;relation2.vertex1&quot;,x=390.0,y=205.0}, points={390.0,125.0} },{ head={id=&quot;CSVReader.output&quot;,x=225.0,y=215.0}, tail={id=&quot;relation2.vertex1&quot;,x=390.0,y=205.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{665.0, 60.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AnglePitchComputer.acc_x&quot;,x=765.0,y=135.0}, tail={id=&quot;relation4.vertex1&quot;,x=665.0,y=60.0}, points={665.0,115.0} },{ head={id=&quot;AccelerationComputer.acc_x&quot;,x=760.0,y=70.0}, tail={id=&quot;relation4.vertex1&quot;,x=665.0,y=60.0}, points={} },{ head={id=&quot;accelerometer.accel_x_list&quot;,x=420.0,y=105.0}, tail={id=&quot;relation4.vertex1&quot;,x=665.0,y=60.0}, points={525.0,115.0,525.0,60.0} } }">
        </property>
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{635.0, 125.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AccelerationComputer.acc_y&quot;,x=760.0,y=70.0}, tail={id=&quot;relation5.vertex1&quot;,x=635.0,y=125.0}, points={635.0,70.0} },{ head={id=&quot;AnglePitchComputer.acc_y&quot;,x=765.0,y=135.0}, tail={id=&quot;relation5.vertex1&quot;,x=635.0,y=125.0}, points={} },{ head={id=&quot;accelerometer.accel_y_list&quot;,x=420.0,y=105.0}, tail={id=&quot;relation5.vertex1&quot;,x=635.0,y=125.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{580.0, 155.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AnglePitchComputer.acc_z&quot;,x=765.0,y=135.0}, tail={id=&quot;relation6.vertex1&quot;,x=580.0,y=155.0}, points={650.0,145.0,650.0,155.0} },{ head={id=&quot;AccelerationComputer.acc_z&quot;,x=760.0,y=70.0}, tail={id=&quot;relation6.vertex1&quot;,x=580.0,y=155.0}, points={650.0,80.0,650.0,155.0} },{ head={id=&quot;accelerometer.accel_z_list&quot;,x=420.0,y=105.0}, tail={id=&quot;relation6.vertex1&quot;,x=580.0,y=155.0}, points={525.0,135.0,525.0,155.0} } }">
        </property>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{580.0, 240.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;gyroscope.gyro_x_list&quot;,x=440.0,y=250.0}, tail={id=&quot;relation7.vertex1&quot;,x=580.0,y=240.0}, points={525.0,260.0,525.0,240.0} },{ head={id=&quot;RotationComputer.gyro_x&quot;,x=765.0,y=250.0}, tail={id=&quot;relation7.vertex1&quot;,x=580.0,y=240.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{665.0, 270.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;gyroscope.gyro_y_list&quot;,x=440.0,y=250.0}, tail={id=&quot;relation8.vertex1&quot;,x=665.0,y=270.0}, points={} },{ head={id=&quot;AnglePitchComputer.gyro_y&quot;,x=765.0,y=135.0}, tail={id=&quot;relation8.vertex1&quot;,x=665.0,y=270.0}, points={665.0,155.0} },{ head={id=&quot;RotationComputer.gyro_y&quot;,x=765.0,y=250.0}, tail={id=&quot;relation8.vertex1&quot;,x=665.0,y=270.0}, points={665.0,250.0} } }">
        </property>
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{680.0, 300.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;RotationComputer.gyro_z&quot;,x=765.0,y=250.0}, tail={id=&quot;relation9.vertex1&quot;,x=680.0,y=300.0}, points={680.0,260.0} },{ head={id=&quot;gyroscope.gyro_z_list&quot;,x=440.0,y=250.0}, tail={id=&quot;relation9.vertex1&quot;,x=680.0,y=300.0}, points={525.0,280.0,525.0,300.0} } }">
        </property>
    </relation>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{905.0, 250.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;GuardsCalculator.rotationrate&quot;,x=1020.0,y=240.0}, tail={id=&quot;relation10.vertex1&quot;,x=905.0,y=250.0}, points={} },{ head={id=&quot;RotationComputer.rotation_rate&quot;,x=765.0,y=250.0}, tail={id=&quot;relation10.vertex1&quot;,x=905.0,y=250.0}, points={} },{ head={id=&quot;RotationPlotter.input&quot;,x=970.0,y=305.0}, tail={id=&quot;relation10.vertex1&quot;,x=905.0,y=250.0}, points={905.0,305.0} } }">
        </property>
    </relation>
    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{905.0, 135.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AnglePitchComputer.angle_pitch&quot;,x=765.0,y=135.0}, tail={id=&quot;relation12.vertex1&quot;,x=905.0,y=135.0}, points={} },{ head={id=&quot;AnglePitchPlotter.input&quot;,x=970.0,y=135.0}, tail={id=&quot;relation12.vertex1&quot;,x=905.0,y=135.0}, points={} },{ head={id=&quot;GuardsCalculator.acceleration&quot;,x=1020.0,y=240.0}, tail={id=&quot;relation12.vertex1&quot;,x=905.0,y=135.0}, points={905.0,240.0} } }">
        </property>
    </relation>
    <relation name="relation13" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{1335.0, 240.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;ActivityDetectionFSM.activity&quot;,x=1205.0,y=240.0}, tail={id=&quot;relation13.vertex1&quot;,x=1335.0,y=240.0}, points={} },{ head={id=&quot;LabelDisplay2.input&quot;,x=1390.0,y=305.0}, tail={id=&quot;relation13.vertex1&quot;,x=1335.0,y=240.0}, points={1335.0,305.0} },{ head={id=&quot;emergencyDelay.activity&quot;,x=1400.0,y=240.0}, tail={id=&quot;relation13.vertex1&quot;,x=1335.0,y=240.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation14" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;CSVReader.trigger&quot;,x=225.0,y=215.0}, tail={id=&quot;DiscreteClock.output&quot;,x=55.0,y=205.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation15" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;label.label&quot;,x=445.0,y=185.0}, tail={id=&quot;LabelDisplay.input&quot;,x=575.0,y=205.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation11" class="ptolemy.actor.TypedIORelation">
        <vertex name="vertex1" value="{920.0, 70.0}">
        </vertex>
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;AccelerationComputer.acceleration&quot;,x=760.0,y=70.0}, tail={id=&quot;relation11.vertex1&quot;,x=920.0,y=70.0}, points={} },{ head={id=&quot;GuardsCalculator.angle_pitch&quot;,x=1020.0,y=240.0}, tail={id=&quot;relation11.vertex1&quot;,x=920.0,y=70.0}, points={920.0,230.0} },{ head={id=&quot;AccelerationPlotter.input&quot;,x=970.0,y=70.0}, tail={id=&quot;relation11.vertex1&quot;,x=920.0,y=70.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation16" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;ActivityDetectionFSM.isWalking&quot;,x=1205.0,y=240.0}, tail={id=&quot;GuardsCalculator.isWalking&quot;,x=1020.0,y=240.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation17" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;ActivityDetectionFSM.isJogging&quot;,x=1205.0,y=240.0}, tail={id=&quot;GuardsCalculator.isJogging&quot;,x=1020.0,y=240.0}, points={} } }">
        </property>
    </relation>
    <relation name="relation18" class="ptolemy.actor.TypedIORelation">
        <property name="_layoutHint" class="ptolemy.vergil.actor.LayoutHint" value="{ { head={id=&quot;ActivityDetectionFSM.isFall&quot;,x=1205.0,y=240.0}, tail={id=&quot;GuardsCalculator.isFall&quot;,x=1020.0,y=240.0}, points={} } }">
        </property>
    </relation>
    <link port="CSVReader.output" relation="relation2"/>
    <link port="CSVReader.trigger" relation="relation14"/>
    <link port="CSVReader.endOfFile" relation="relation"/>
    <link port="Stop.input" relation="relation"/>
    <link port="gyroscope.input" relation="relation2"/>
    <link port="gyroscope.gyro_x_list" relation="relation7"/>
    <link port="gyroscope.gyro_y_list" relation="relation8"/>
    <link port="gyroscope.gyro_z_list" relation="relation9"/>
    <link port="accelerometer.input" relation="relation2"/>
    <link port="accelerometer.accel_x_list" relation="relation4"/>
    <link port="accelerometer.accel_y_list" relation="relation5"/>
    <link port="accelerometer.accel_z_list" relation="relation6"/>
    <link port="RotationComputer.gyro_x" relation="relation7"/>
    <link port="RotationComputer.gyro_y" relation="relation8"/>
    <link port="RotationComputer.gyro_z" relation="relation9"/>
    <link port="RotationComputer.rotation_rate" relation="relation10"/>
    <link port="AccelerationComputer.acc_x" relation="relation4"/>
    <link port="AccelerationComputer.acc_y" relation="relation5"/>
    <link port="AccelerationComputer.acc_z" relation="relation6"/>
    <link port="AccelerationComputer.acceleration" relation="relation11"/>
    <link port="AccelerationPlotter.input" relation="relation11"/>
    <link port="RotationPlotter.input" relation="relation10"/>
    <link port="AnglePitchComputer.acc_x" relation="relation4"/>
    <link port="AnglePitchComputer.acc_y" relation="relation5"/>
    <link port="AnglePitchComputer.acc_z" relation="relation6"/>
    <link port="AnglePitchComputer.gyro_y" relation="relation8"/>
    <link port="AnglePitchComputer.angle_pitch" relation="relation12"/>
    <link port="AnglePitchPlotter.input" relation="relation12"/>
    <link port="LabelDisplay2.input" relation="relation13"/>
    <link port="DiscreteClock.output" relation="relation14"/>
    <link port="emergencyDelay.activity" relation="relation13"/>
    <link port="ActivityDetectionFSM.isWalking" relation="relation16"/>
    <link port="ActivityDetectionFSM.isJogging" relation="relation17"/>
    <link port="ActivityDetectionFSM.activity" relation="relation13"/>
    <link port="ActivityDetectionFSM.isFall" relation="relation18"/>
    <link port="label.input" relation="relation2"/>
    <link port="label.label" relation="relation15"/>
    <link port="LabelDisplay.input" relation="relation15"/>
    <link port="GuardsCalculator.angle_pitch" relation="relation11"/>
    <link port="GuardsCalculator.acceleration" relation="relation12"/>
    <link port="GuardsCalculator.rotationrate" relation="relation10"/>
    <link port="GuardsCalculator.isWalking" relation="relation16"/>
    <link port="GuardsCalculator.isJogging" relation="relation17"/>
    <link port="GuardsCalculator.isFall" relation="relation18"/>
</entity>
